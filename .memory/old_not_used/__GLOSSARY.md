---
id: glossary
updated: 2025-01-14
---

# Глоссарий
- **Slot** — статическая конфигурация обработки (`slot-001`…`slot-015`), которая определяет провайдера (Gemini/Turbotext), операцию, параметры и связанные шаблонные медиа. Используется для построения ingest-ссылки `<BASE_URL>/ingest/{slot_id}` и не содержит индивидуальных секретов.【F:spec/docs/blueprints/glossary.md】【F:/brief.md】
- **Ingest API** — HTTP-эндпоинт `POST /ingest/{slotId}` для получения фотографий от DSLR Remote Pro, расчёта дедлайнов и выдачи результата либо 504 по истечении `T_sync_response` (45–60 с).【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **Job** — запись очереди обработки, создаваемая при ingest. Содержит статусы `pending/processing`, финализацию через `is_finalized`, `failure_reason`, дедлайн `expires_at`, ссылку на результат `result_file_path`, временный `result_inline_base64` и TTL `result_expires_at = finalized_at + 72h`.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
- **Job.result_*** — набор полей в Job (`result_file_path`, `result_mime_type`, `result_size_bytes`, `result_checksum`, `result_inline_base64`, `result_expires_at`), фиксирующий последний успешный ответ и доступность итогового файла (72 ч). Base64 удаляется сразу после отправки ответа ingest.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **Job queue** — очередь задач на PostgreSQL, реализованная таблицей `job` с `SELECT … FOR UPDATE SKIP LOCKED`, гарантирующая back-pressure, дедлайны и синхронное ожидание без брокеров сообщений.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
- **T_sync_response** — максимальное окно ожидания синхронного ответа ingest API (по умолчанию 48 с, допустимый диапазон 45–60 с); определяет `job.expires_at`, TTL временных ссылок (`T_public_link_ttl`) и дедлайн очистки payload. Настраивается через `/api/settings`.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
- **T_ingest_ttl** — TTL исходных ingest-файлов во временном хранилище (`payload_path`), совпадает с `T_sync_response` и задаётся через `app_settings` при создании Job.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
- **T_public_link_ttl** — TTL временных публичных ссылок (`media_object`), равный `T_sync_response`; после истечения ссылка удаляется, а задача получает `failure_reason = 'timeout'`. Настраивается в `app_settings`.【F:spec/docs/blueprints/domain-model.md】【F:spec/docs/blueprints/constraints-risks.md】
- **T_result_retention** — фиксированный TTL итоговых файлов (72 ч) и публичных ссылок `GET /public/results/{job_id}`; после истечения endpoint возвращает `410 Gone`, а файл удаляется очистителем. Не зависит от `job.expires_at`.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **MediaObject** — временный публичный файл с TTL = `T_public_link_ttl = T_sync_response`, выдаваемый через `POST /api/media/register` для загрузок провайдера (например, Turbotext). По истечении срока запись удаляется, а Job получает `failure_reason = 'timeout'`.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **Media public link** — одноразовый URL на `MediaObject`, доступный провайдерам (Turbotext) в пределах `T_public_link_ttl`; истечение делает ссылку недоступной и инициирует очистку задачи.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
- **TemplateMedia** — долговечные шаблонные изображения без публичных ссылок, привязываемые к слотам через UI/API. Удаляются вручную при обновлении слота. Проверяются на допустимый MIME/размер при загрузке. 【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **ProviderAdapter** — слой интеграции с внешним AI-провайдером (Gemini, Turbotext), учитывающий квоты, форматы и режимы (синхронный/очередь). Хранит `provider_job_reference` (например, `queueid`) для polling в пределах `T_sync_response`.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/providers/turbotext.md】
- **recent_results** — выборка последних успешных Job слота, возвращаемая `GET /api/slots/{slot_id}`. Содержит `thumbnail_url`, `download_url`, `completed_at`, `result_expires_at`, `mime` и используется UI для галереи превью. Недоступные по TTL результаты отмечаются как истёкшие (410).【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/use-cases.md】
- **DSLR Remote Pro** — настольный клиент, который отправляет multipart `POST /ingest/{slotId}` с фото, паролем и метаданными, запускающими обработку в выбранном слоте.【F:spec/docs/blueprints/glossary.md】【F:/brief.md】
- **queueid** — идентификатор задачи Turbotext, сохраняемый в `Job.provider_job_reference` для опроса `do=get_result` в пределах `T_sync_response`; отсутствие ответа до дедлайна приводит к 504 и очистке временных артефактов.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/providers/turbotext.md】
- **failure_reason = 'timeout'** — финализация Job при истечении `T_sync_response`; приводит к завершению polling, удалению временных медиа и недоступности публичных ссылок до повторного ingest.【F:spec/docs/blueprints/glossary.md】【F:spec/docs/blueprints/domain-model.md】
