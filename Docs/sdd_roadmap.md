# Дорожная карта генерации недостающих артефактов SDD

## 1. Подготовительный этап
- Синхронизироваться с `/Docs/brief.md` и существующими контрактами в `spec/contracts`.
- Зафиксировать перечень обязательных артефактов SDD: Vision, Glossary, Context/Scope, Constraints, Risks, NFRs, Use-cases/Jobs, Domain model, Sequence/State диаграммы, Acceptance Criteria, Test Plan.
- Уточнить текущий статус уже созданных документов, чтобы избежать дублирования.

## 2. Формирование Vision и Context
- Сформулировать Vision-документ с целями и уникальной ценностью платформы PhotoChanger.
- Описать границы системы (Context/Scope), внешние акторы и интеграции (DSLR Remote Pro, провайдеры AI, административный UI).
- При необходимости оформить Context Diagram в виде mermaid-диаграммы.

## 3. Глоссарий и доменная модель
- Собрать единый словарь терминов (Glossary) с указанием источников из брифа.
- Построить доменную модель (Domain model) с агрегатами: Slot, Job, Result, ProviderAdapter, MediaObject и т.д.
- Зафиксировать взаимосвязи и инварианты (например, TTL исходных файлов, ограничения провайдеров).

## 4. Нефункциональные требования и ограничения
- Скомпоновать список NFR (логирование, мониторинг, TLS, ретраи, лимиты параллелизма, очистка временных данных).
- Описать технические/бизнес-ограничения и риски, связанные с провайдерами, очередью и хранением медиа.

## 5. Use-cases и последовательности
- Зафиксировать ключевые Use-cases/Jobs: настройка слота, ingest через DSLR Remote Pro, продление media-ссылки, получение результата.
- Для критичных сценариев построить Sequence/State диаграммы (например, ingest с успешным завершением и ingest с 504).

## 6. Acceptance Criteria
- Для каждого Use-case определить измеримые критерии готовности (успешные статусы, ошибки, таймауты, очистка данных).
- Синхронизировать критерии с NFR и ограничениями (например, `T_sync_response` настраивается в диапазоне 45–60 с, а производные TTL временных файлов вычисляются из этого значения).

## 7. Test Plan
- Описать стратегию тестирования: unit, contract, integration, e2e.
- Определить ответственность (авто-тесты, ручные проверки), инструменты и артефакты (mock провайдеров, QA-матрица).
- Согласовать покрытие NFR, включая мониторинг, ретраи, очистку временных файлов.

## 8. Интеграция в репозиторий
- Разместить артефакты в `spec/docs` или `Docs` (согласно структуре проекта) с перекрёстными ссылками на бриф и контракты.
- Обновить README/индекс в `spec/docs`, чтобы перечислить все созданные документы и порядок их чтения.

## 9. Финальный контроль качества
- Провести самопроверку: соответствие брифу, непротиворечивость терминов, наличие ссылок на контракты.
- Подготовить PR с описанием изменений, чек-листом и ссылкой на разделы брифа.
