# Общее описание функционала веб сервера.
 В веб интерфейсе у нас будет Basic Auth. После авторизации в интерфейсе доступно 3 вкладки, в каждой из которых есть свои опции и нужные поля. 
Каждая вкладка нацелена на работу с одной конкретной AI моделью, будь то Turbotext, Deepseek или NanoBanana.
На каждой вкладке  будет 20 слотов с преднастройками для обработки фотографий. 
Каждый слот содержит следующие преднастройки: 
1. выпадающее меню с выбором типа обработки: замена лица, подстановка под фон, генерация по промпту.
2.  Промпт к модели для обработки изображения, если необходимо.
3. Загрузка эталонного изображения, если необходимо. 
4. Ссылка для загрузки Исходного фото на сервер. Copy\Paste ссылка.

Так же в интерфейсе в углу будет отдельная кнопка "статистика", где будет указан пароль для загрузки ссылок а так же статистика по количеству обработанных фотографий каждой моделью.

Механизм работы такой:
Сторонняя программа DSLR Remote Pro отправляет на наш сервер Исходную Фотографию по Ссылке для загрузки. Сервер получает фотографию и отправляет ее на обработку AI модели согласно преднастроек данного слота, которому соответствовала ссылка для загрузки. Сервер ждет ответа от AI модели, получает обработанное фото и отправляет обработанное фото обратно в качестве ответа на запрос, ранее пришедший через ссылку для загрузки. Программа DSLR Remote Pro все это время находится в состоянии ожидания ответа от нашего сервера, до 50 секунд. Если сервер не получил обработанное фотоболее 50 секунд, то считаем попытку обработки не удачной возвращаем ответ с кодом ошибки, и помещаем Исходное Фото в папку для мусора, если необходимо.   

# API 
Описание всех апи
## API DSLR Remote Pro 
Пример запроса, который DSLR программа будет отправлять нашему серверу:

```
{
  "timestamp": "2025-09-18T17:45:12.439171+00:00",
  "client": {
    "host": "127.0.0.1",
    "port": 1417
  },
  "method": "POST",
  "url": "http://localhost:8000/echo?session=42",
  "path": "/echo",
  "query_params": {
    "session": "42"
  },
  "headers": {
    "host": "localhost:8000",
    "content-type": "multipart/form-data; boundary=------------090306000104030805010400",
    "content-length": "53205",
    "expect": "100-continue"
  },
  "cookies": {},
  "content_type": "multipart/form-data; boundary=------------090306000104030805010400",
  "is_multipart": true,
  "form_text_fields": {
    "time": "1758217512",
    "user_id": "Acer",
    "id": "CY04N068111304S2L_00000001.",
    "profile": "C:\\Users\\Acer\\Documents\\PhotoboothImages\\setup_Serg.xml",
    "status": "C:\\Users\\Acer\\Documents\\PhotoboothImages\\screenSerg\\preview.jpg",
    "hash": "7b6c683e1d3fd29c8701791c54e3c12a236f5a5b",
    "name": "DESKTOP-K968T3F",
    "model": "Windows",
    "version": "3.30.2",
    "password": "123456"
  },
  "form_files": [
    {
      "field": "fileToUpload",
      "original_filename": "IMG_0003.JPG",
      "saved_as": "\\tmp\\fastapi_echo\\uploads\\20250918T174512Z_e6bf1d6c98c843d6aa4948d07f251c17.JPG",
      "content_type": "image/jpeg",
      "size_bytes": 51977,
      "is_image_jpeg": true
    }
  ]
}
```

## API Turbotext
для работы с моделью Турботекст будут использоваться следующие методы:
- Микс-фото
- Замена объекта
- Замена лица
Описание api находится тут https://www.turbotext.ru/photo_ai/docs/info#section-2

## API Deepseek

## API Nanobanana

# Ссылки для помощи
По образцу этого сайта мы делаем наш сервер https://fx.breezesoftware.com/integrations/create 