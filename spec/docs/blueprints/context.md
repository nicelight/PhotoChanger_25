# Контекст и границы PhotoChanger

## Системная граница

Платформа PhotoChanger развёрнута как HTTP-сервер, принимающий ingest-запросы и управляющий AI-обработкой фотографий согласно утверждённым продуктовым требованиям. Система включает:
- Ingest API c валидацией входящих POST от DSLR Remote Pro.
- Адаптеры провайдеров (Gemini, Turbotext и др.).
- Временное и постоянное медиа-хранилище.
- Публичная выдача итоговых файлов с TTL 72 часа (`T_result_retention`).
- Административный UI/API для управления слотами, пользователями и шаблонными медиа.
- Встроенный сервис аутентификации (`/api/login`), выдающий JWT для статических администраторов (`serg`, `igor`).

## Внешние акторы
- **DSLR Remote Pro** — отправляет `POST /ingest/{slotId}` с фото и секретом.
- **Администратор** — настраивает слоты, загружает шаблонные медиа, управляет секретами (ingest-пароль) и инициирует их ротацию.
- **AI-провайдеры** — внешние API, выполняющие операции по настройкам слота.
- **Система мониторинга/логирования** — получает технические метрики и алерты.
- **Потребители публичных ссылок** — UI и другие клиенты, скачивающие временные файлы по `GET /public/media/{id}` и итоговые изображения по `GET /public/results/{job_id}`.

## Диаграмма контекста (mermaid)


## Scope и out-of-scope
### Внутри границ


### Вне границ (требуют отдельного согласования)

## Зависимости и интеграции
- Подключение к файловой системе/облачному стореджу для `MEDIA_ROOT`.
- Доступ к внешнему интернету для вызовов AI-провайдеров и отдачи публичных ссылок.
- Поддержание TLS-сертификатов для HTTPS, чтобы соответствовать требованиям безопасности ingest и публичных ссылок.
