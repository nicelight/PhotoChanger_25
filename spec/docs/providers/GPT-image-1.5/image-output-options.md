# Настройка выхода (base64)

Источник: https://platform.openai.com/docs/guides/image-generation#edit-images

## Выходные форматы и base64
- Image API возвращает base64-encoded изображение.
- Формат по умолчанию: `png`, можно запросить `jpeg` или `webp`.
- Для `jpeg`/`webp` доступен `output_compression` (0–100).

## Размер и качество
- `size`, `quality` и `background` поддерживают значение `auto`.
- Доступные размеры для GPT Image моделей включают `1024x1024`, `1536x1024`, `1024x1536` (также `auto`).

## UI: aspect_ratio + resolution -> size
В UI параметры `aspect_ratio` и `resolution` будут переводиться в `size` по следующей таблице (из скрина):

| Aspect ratio | 1K resolution | 2K resolution | 4K resolution |
| --- | --- | --- | --- |
| 1:1 | 1024x1024 | 2048x2048 | 4096x4096 |
| 2:3 | 848x1264 | 1696x2528 | 3392x5056 |
| 3:2 | 1264x848 | 2528x1696 | 5056x3392 |
| 3:4 | 896x1200 | 1792x2400 | 3584x4800 |
| 4:3 | 1200x896 | 2400x1792 | 4800x3584 |
| 4:5 | 928x1152 | 1856x2304 | 3712x4608 |
| 5:4 | 1152x928 | 2304x1856 | 4608x3712 |
| 9:16 | 768x1376 | 1536x2752 | 3072x5504 |
| 16:9 | 1376x768 | 2752x1536 | 5504x3072 |
| 21:9 | 1584x672 | 3168x1344 | 6336x2688 |

## Прозрачный фон
- GPT Image модели поддерживают `background=transparent`.
- Прозрачность работает с форматами `png`/`webp`.

## Стриминг partial_images
- Image API поддерживает стриминг частичных изображений.
- Параметр `partial_images` задаёт 0–3 частичных результата; при 0 будет только финальное изображение.
