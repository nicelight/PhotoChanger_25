<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/sci-fi-hangar.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/mechanical-bouquet.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/mechanical-watch.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/botanical-perfume.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/lavender-sunrise.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/winter-wolf-portrait.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/desert-sunrise-portrait.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/chess-set.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/underwater-ballerina.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/album-cover.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/abstract-orbit.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/alien.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/icons-poster.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/3d-city.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/ink-wash-temple.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/images-gallery-1p5/cliffside-portrait.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/mug.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/cat_and_otter.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/cat_and_otter_realistic.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/imgen1p5-streaming1.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/imgen1p5-streaming2.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/imgen1p5-streaming3.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/body-lotion.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/soap.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/incense-kit.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/bath-bomb.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/bath-set-result.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/sunlit_lounge.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/mask.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/sunlit_lounge_result.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/woman_futuristic.jpg"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/brain_logo.png"/><link rel="preload" as="image" href="https://cdn.openai.com/API/docs/images/woman_with_logo.jpg"/><title>Image generation | OpenAI API</title><meta property="og:title" content="Image generation | OpenAI API"/><meta property="og:image" content="https://cdn.openai.com/API/images/platform-opengraph.png"/><meta property="og:type" content="website"/><meta property="og:url" content="https://platform.openai.com"/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="platform.openai.com"/><meta property="twitter:url" content="https://platform.openai.com"/><meta name="twitter:title" content="Image generation | OpenAI API"/><meta name="twitter:image" content="https://cdn.openai.com/API/images/platform-opengraph.png"/><meta name="description" content="Learn how to generate or edit images with the OpenAI API and image generation models."/><meta property="og:description" content="Learn how to generate or edit images with the OpenAI API and image generation models."/><meta name="twitter:description" content="Learn how to generate or edit images with the OpenAI API and image generation models."/><link rel="icon" type="image/png" href="/docs/static/favicon-platform.png"/><link rel="icon" type="image/svg+xml" href="/docs/static/favicon-platform.svg"/><link rel="preconnect" href="https://cdn.openai.com"/><link rel="preconnect" href="https://OWZ3QOIIJA-dsn.algolia.net" crossorigin="anonymous"/><link rel="preload" href="https://cdn.openai.com/common/fonts/openai-sans/v2/OpenAISans-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="https://cdn.openai.com/common/fonts/openai-sans/v2/OpenAISans-Semibold.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="https://cdn.openai.com/common/fonts/openai-sans/v2/OpenAISans-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="canonical" href="/docs/guides/image-generation"/><link rel="modulepreload" href="/docs/_assets/manifest-b8baf396.js"/><link rel="modulepreload" href="/docs/_assets/DXju5bO3G_.js"/><link rel="modulepreload" href="/docs/_assets/D_zvdyIk7Y.js"/><link rel="modulepreload" href="/docs/_assets/8NzXHAdcWW.js"/><link rel="modulepreload" href="/docs/_assets/Ck0Ee_v6Qs.js"/><link rel="modulepreload" href="/docs/_assets/lJzczcQu7p.js"/><link rel="modulepreload" href="/docs/_assets/BG-z7vJFHl.js"/><link rel="modulepreload" href="/docs/_assets/BkkZ6moscn.js"/><link rel="modulepreload" href="/docs/_assets/CAcaBuWO3M.js"/><link rel="modulepreload" href="/docs/_assets/BGZ5yIx5BJ.js"/><link rel="modulepreload" href="/docs/_assets/BQ_PI5HI0c.js"/><link rel="modulepreload" href="/docs/_assets/C3i9043WxV.js"/><link rel="modulepreload" href="/docs/_assets/DNoXM9djEg.js"/><link rel="modulepreload" href="/docs/_assets/DTJwmoW47H.js"/><link rel="modulepreload" href="/docs/_assets/DpEvBiVhYM.js"/><link rel="modulepreload" href="/docs/_assets/lZOvFEti-A.js"/><link rel="modulepreload" href="/docs/_assets/BmcqA-d9tZ.js"/><link rel="modulepreload" href="/docs/_assets/DjmhhsLT-0.js"/><link rel="modulepreload" href="/docs/_assets/CZzqOqE7fn.js"/><link rel="modulepreload" href="/docs/_assets/Cct7mP1YHp.js"/><link rel="modulepreload" href="/docs/_assets/KGgI7C2C16.js"/><link rel="modulepreload" href="/docs/_assets/IWwWZGYixn.js"/><link rel="modulepreload" href="/docs/_assets/CuG4RR7GgD.js"/><link rel="modulepreload" href="/docs/_assets/DeCCmFF4kM.js"/><link rel="modulepreload" href="/docs/_assets/VOh6-X-dio.js"/><link rel="modulepreload" href="/docs/_assets/8ITlhM_LMP.js"/><link rel="modulepreload" href="/docs/_assets/DVwYIt9F2S.js"/><link rel="modulepreload" href="/docs/_assets/DxuuivWy1g.js"/><link rel="modulepreload" href="/docs/_assets/D2mW5UwjFs.js"/><link rel="modulepreload" href="/docs/_assets/xaWEz5Iusf.js"/><link rel="modulepreload" href="/docs/_assets/SMM3be60WU.js"/><link rel="modulepreload" href="/docs/_assets/C_oyPUR7mR.js"/><link rel="modulepreload" href="/docs/_assets/Bwcq0qAE74.js"/><link rel="modulepreload" href="/docs/_assets/CsMXqd6oF3.js"/><link rel="modulepreload" href="/docs/_assets/m5zjileubH.js"/><link rel="modulepreload" href="/docs/_assets/BAlG6N1_mG.js"/><link rel="modulepreload" href="/docs/_assets/DjqaN5JbLQ.js"/><link rel="modulepreload" href="/docs/_assets/CR3Hlb5OQ-.js"/><link rel="modulepreload" href="/docs/_assets/ByZk-3NIdJ.js"/><link rel="modulepreload" href="/docs/_assets/BmOFsxc8Cu.js"/><link rel="modulepreload" href="/docs/_assets/DGnwEYSFEu.js"/><link rel="modulepreload" href="/docs/_assets/B0jokhGoP7.js"/><link rel="modulepreload" href="/docs/_assets/Com-fErv24.js"/><link rel="modulepreload" href="/docs/_assets/BJdpL42ThA.js"/><link rel="modulepreload" href="/docs/_assets/ygLtiw9KY-.js"/><link rel="modulepreload" href="/docs/_assets/BffGBmM6OJ.js"/><link rel="modulepreload" href="/docs/_assets/DakD58I9E6.js"/><link rel="modulepreload" href="/docs/_assets/DMz69ckPeu.js"/><link rel="modulepreload" href="/docs/_assets/BpcjgxbhYh.js"/><link rel="modulepreload" href="/docs/_assets/CuPWSZoycp.js"/><link rel="modulepreload" href="/docs/_assets/DscmTpLGUG.js"/><link rel="modulepreload" href="/docs/_assets/BPWcEyutrx.js"/><link rel="modulepreload" href="/docs/_assets/DverT3au9P.js"/><script nonce="anZhGn391NVZNbeBxPGXfg==">(() => {
    const Theme = {"dark":"dark","light":"light","auto":"auto"};
    const THEME_LOCAL_STORAGE_KEY = "oai/theme";
    const isAutoTheme = (theme) => theme === "auto";
    const getSystemTheme = function getSystemTheme() {
  if (typeof window === "undefined" || typeof window.matchMedia !== "function") {
    return "light";
  }
  return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
};
    const getInitialTheme = function getInitialTheme() {
  if (typeof window === "undefined") {
    return "auto";
  }
  const rawTheme = window.localStorage.getItem(THEME_LOCAL_STORAGE_KEY);
  if (rawTheme && Object.values(Theme).includes(rawTheme)) {
    return rawTheme;
  }
  return "auto";
};
    const applyThemeAttributes = (theme) => {
  const themeToApply = isAutoTheme(theme) ? getSystemTheme() : theme;
  const htmlTag = document.documentElement;
  htmlTag.classList.remove(
    "dark",
    "light"
    /* light */
  );
  htmlTag.classList.add(themeToApply);
  htmlTag.setAttribute("data-theme", themeToApply);
  htmlTag.style.colorScheme = themeToApply;
};
    try {
        applyThemeAttributes(getInitialTheme());
    } catch (_error) {
        // ignore
    }
})();</script><link rel="stylesheet" href="/docs/_assets/DDFKPfkkvL.css"/><link rel="stylesheet" href="/docs/_assets/CsXtzWUt2D.css"/><link rel="stylesheet" href="/docs/_assets/BUzNYCZRkl.css"/><link rel="stylesheet" href="/docs/_assets/CmZ0aiKGiY.css"/><link rel="stylesheet" href="/docs/_assets/CXeO9O8sxU.css"/><link rel="stylesheet" href="/docs/_assets/DSyGBe0nxS.css"/><link rel="stylesheet" href="/docs/_assets/DmVej0nGPn.css"/><link rel="stylesheet" href="/docs/_assets/CvRZlCfRaV.css"/><link rel="stylesheet" href="/docs/_assets/C8yyGLy_69.css"/><link rel="stylesheet" href="/docs/_assets/DCgjJ-7pIC.css"/><link rel="stylesheet" href="/docs/_assets/BbFbtkxJf9.css"/><link rel="stylesheet" href="/docs/_assets/CGjzYxyjrW.css"/><link rel="stylesheet" href="/docs/_assets/BE-U9UDsnp.css"/><link rel="stylesheet" href="/docs/_assets/ByNUlNwBzp.css"/><link rel="stylesheet" href="/docs/_assets/2l7W9ueWRa.css"/><link rel="stylesheet" href="/docs/_assets/CThT1SOw5v.css"/><link rel="stylesheet" href="/docs/_assets/C77M8zJ8sl.css"/><link rel="stylesheet" href="/docs/_assets/D2u21PpfY3.css"/><link rel="stylesheet" href="/docs/_assets/B_JSFIq-zW.css"/><link rel="stylesheet" href="/docs/_assets/B3GbuAtQ_Y.css"/><link rel="stylesheet" href="/docs/_assets/GLOxD5iIH9.css"/><link rel="stylesheet" href="/docs/_assets/BHdrG1YR8G.css"/><link rel="stylesheet" href="/docs/_assets/Ca416NN5-e.css"/><link rel="stylesheet" href="/docs/_assets/CYwWq2oGyu.css"/><link rel="stylesheet" href="/docs/_assets/cU4mF6YqEL.css"/></head><body><div class="-oWdO"><div class="_0LN0J"><div class="yjSco"><span class="cURcG G98ZX"><a class="_6qpHv" href="/docs/overview" data-discover="true"><svg fill="none" xmlns="http://www.w3.org/2000/svg" width="169" height="24" viewBox="0 0 169 24"><path d="M8.11 4.452C3.958 4.452.562 7.849.562 12c0 4.152 3.396 7.549 7.548 7.549 4.151 0 7.548-3.376 7.548-7.549A7.543 7.543 0 0 0 8.11 4.452Zm0 12.392c-2.58 0-4.655-2.118-4.655-4.844 0-2.725 2.076-4.843 4.655-4.843S12.765 9.275 12.765 12c0 2.726-2.076 4.844-4.655 4.844ZM23.29 8.645c-1.363 0-2.684.545-3.376 1.468V8.855h-2.726v14.677h2.726v-5.305c.692.86 1.971 1.321 3.376 1.321 2.935 0 5.242-2.306 5.242-5.451 0-3.145-2.307-5.452-5.242-5.452Zm-.461 8.534c-1.552 0-2.936-1.216-2.936-3.082 0-1.866 1.384-3.082 2.936-3.082 1.551 0 2.935 1.216 2.935 3.082 0 1.866-1.384 3.082-2.935 3.082ZM34.948 8.645c-2.977 0-5.325 2.328-5.325 5.452s2.054 5.451 5.41 5.451c2.746 0 4.507-1.656 5.052-3.522h-2.663c-.335.776-1.278 1.32-2.41 1.32-1.406 0-2.475-.985-2.727-2.39h7.926v-1.069c0-2.851-1.992-5.242-5.263-5.242Zm-2.642 4.382c.294-1.32 1.384-2.18 2.705-2.18 1.405 0 2.474.922 2.6 2.18h-5.305ZM47.466 8.645c-1.217 0-2.495.545-3.083 1.447V8.855h-2.725v10.484h2.725v-5.64c0-1.636.881-2.705 2.307-2.705 1.32 0 2.034 1.006 2.034 2.41v5.935h2.725v-6.374c0-2.6-1.593-4.32-3.983-4.32ZM58.43 4.662l-5.933 14.677h2.914l1.258-3.208h6.752l1.258 3.208h2.956L61.743 4.662H58.43Zm-.817 9.037 2.432-6.144 2.411 6.144h-4.843ZM71.514 4.662h-2.768v14.677h2.768V4.662ZM93.11 4.661h-6.5v14.677h2.768v-5.514h3.753c2.894 0 4.948-1.698 4.948-4.55 0-2.851-2.054-4.613-4.969-4.613Zm-.188 6.73h-3.544V7.178h3.544c1.425 0 2.348.818 2.348 2.097 0 1.28-.923 2.118-2.348 2.118ZM102.399 4.661h-2.726v14.677h2.726V4.661ZM113.575 12.502c0-2.39-1.636-3.858-4.655-3.858-2.474 0-4.445 1.384-4.781 3.397h2.748c.209-.692.963-1.237 2.012-1.237 1.363 0 2.013.713 2.013 1.95v.063l-2.663.23c-2.789.231-4.34 1.364-4.34 3.502 0 1.803 1.551 2.998 3.711 2.998 1.447 0 2.851-.566 3.439-1.51 0 .462.042.881.126 1.3h2.537c-.106-.67-.147-1.446-.147-2.348v-4.487Zm-2.663 2.495c0 1.238-.923 2.496-2.789 2.496-1.006 0-1.551-.483-1.551-1.195 0-.776.524-1.258 1.698-1.363l2.642-.231v.293ZM119.298 5.457h-2.725v3.397h-2.18v2.201h2.18v5.158c0 1.992 1.027 3.124 3.229 3.124h2.18v-2.264h-1.383c-.923 0-1.301-.314-1.301-1.174v-4.844h2.684V8.854h-2.684V5.457ZM127.811 8.142c0-.755.336-1.216 1.259-1.216h1.95V4.66h-2.306c-2.37 0-3.628 1.216-3.628 3.23v.964h-2.18v2.201h2.18v8.282h2.725v-8.282h2.685V8.855h-2.685v-.713ZM136.428 8.645c-3.123 0-5.535 2.474-5.535 5.451 0 2.977 2.412 5.451 5.535 5.451 3.124 0 5.536-2.474 5.536-5.451 0-2.977-2.412-5.451-5.536-5.451Zm0 8.47c-1.446 0-2.831-1.174-2.831-3.019 0-1.845 1.385-3.02 2.831-3.02 1.447 0 2.831 1.175 2.831 3.02s-1.384 3.02-2.831 3.02ZM146.115 10.448V8.855h-2.704V19.34h2.725v-4.97c0-1.991 1.006-2.998 2.789-2.998h.839V8.73h-.545c-1.321 0-2.559.65-3.104 1.72ZM163.854 8.645c-1.636 0-2.873.629-3.627 1.76-.651-1.11-1.845-1.76-3.23-1.76-1.3 0-2.474.545-3.061 1.446V8.854h-2.726v10.484h2.726v-5.64c0-1.636.86-2.705 2.265-2.705 1.299 0 2.013 1.006 2.013 2.411v5.934h2.725v-5.64c0-1.636.88-2.705 2.265-2.705 1.3 0 2.013 1.006 2.013 2.411v5.934h2.725v-6.374c0-2.6-1.656-4.32-4.088-4.32Z" fill="var(--color-text-emphasis)"></path></svg></a></span></div><div class="Qb8VI _2iQOA"><div class="_2oVZc"><span class="G98ZX"><div class="_2oVZc"><nav class="-t84Z"><a data-primary-nav-item="" aria-current="page" class="o-eDT G8ZlP" href="/docs" data-discover="true"><span class="ShWU8" data-long-label="true" data-title="Docs">Docs</span><span class="ShWU8" data-short-label="true" data-title="Docs">Docs</span></a><a data-primary-nav-item="" class="o-eDT" href="/docs/api-reference/introduction" data-discover="true"><span class="ShWU8" data-long-label="true" data-title="API reference">API reference</span><span class="ShWU8" data-short-label="true" data-title="API">API</span></a></nav></div></span><div class="mt-3 flex gap-3 md:mt-0"><button type="button" class="PSaRM flex-1" data-color="primary" data-variant="soft" data-size="md"><span class="Odhup">Log in</span></button><a href="/signup" class="PSaRM flex-1" data-color="primary" data-variant="solid" data-size="md" data-discover="true"><span class="Odhup">Sign up</span></a></div></div></div><div class="jnN97"><svg fill="none" xmlns="http://www.w3.org/2000/svg" width="169" height="24" viewBox="0 0 169 24"><path d="M8.11 4.452C3.958 4.452.562 7.849.562 12c0 4.152 3.396 7.549 7.548 7.549 4.151 0 7.548-3.376 7.548-7.549A7.543 7.543 0 0 0 8.11 4.452Zm0 12.392c-2.58 0-4.655-2.118-4.655-4.844 0-2.725 2.076-4.843 4.655-4.843S12.765 9.275 12.765 12c0 2.726-2.076 4.844-4.655 4.844ZM23.29 8.645c-1.363 0-2.684.545-3.376 1.468V8.855h-2.726v14.677h2.726v-5.305c.692.86 1.971 1.321 3.376 1.321 2.935 0 5.242-2.306 5.242-5.451 0-3.145-2.307-5.452-5.242-5.452Zm-.461 8.534c-1.552 0-2.936-1.216-2.936-3.082 0-1.866 1.384-3.082 2.936-3.082 1.551 0 2.935 1.216 2.935 3.082 0 1.866-1.384 3.082-2.935 3.082ZM34.948 8.645c-2.977 0-5.325 2.328-5.325 5.452s2.054 5.451 5.41 5.451c2.746 0 4.507-1.656 5.052-3.522h-2.663c-.335.776-1.278 1.32-2.41 1.32-1.406 0-2.475-.985-2.727-2.39h7.926v-1.069c0-2.851-1.992-5.242-5.263-5.242Zm-2.642 4.382c.294-1.32 1.384-2.18 2.705-2.18 1.405 0 2.474.922 2.6 2.18h-5.305ZM47.466 8.645c-1.217 0-2.495.545-3.083 1.447V8.855h-2.725v10.484h2.725v-5.64c0-1.636.881-2.705 2.307-2.705 1.32 0 2.034 1.006 2.034 2.41v5.935h2.725v-6.374c0-2.6-1.593-4.32-3.983-4.32ZM58.43 4.662l-5.933 14.677h2.914l1.258-3.208h6.752l1.258 3.208h2.956L61.743 4.662H58.43Zm-.817 9.037 2.432-6.144 2.411 6.144h-4.843ZM71.514 4.662h-2.768v14.677h2.768V4.662ZM93.11 4.661h-6.5v14.677h2.768v-5.514h3.753c2.894 0 4.948-1.698 4.948-4.55 0-2.851-2.054-4.613-4.969-4.613Zm-.188 6.73h-3.544V7.178h3.544c1.425 0 2.348.818 2.348 2.097 0 1.28-.923 2.118-2.348 2.118ZM102.399 4.661h-2.726v14.677h2.726V4.661ZM113.575 12.502c0-2.39-1.636-3.858-4.655-3.858-2.474 0-4.445 1.384-4.781 3.397h2.748c.209-.692.963-1.237 2.012-1.237 1.363 0 2.013.713 2.013 1.95v.063l-2.663.23c-2.789.231-4.34 1.364-4.34 3.502 0 1.803 1.551 2.998 3.711 2.998 1.447 0 2.851-.566 3.439-1.51 0 .462.042.881.126 1.3h2.537c-.106-.67-.147-1.446-.147-2.348v-4.487Zm-2.663 2.495c0 1.238-.923 2.496-2.789 2.496-1.006 0-1.551-.483-1.551-1.195 0-.776.524-1.258 1.698-1.363l2.642-.231v.293ZM119.298 5.457h-2.725v3.397h-2.18v2.201h2.18v5.158c0 1.992 1.027 3.124 3.229 3.124h2.18v-2.264h-1.383c-.923 0-1.301-.314-1.301-1.174v-4.844h2.684V8.854h-2.684V5.457ZM127.811 8.142c0-.755.336-1.216 1.259-1.216h1.95V4.66h-2.306c-2.37 0-3.628 1.216-3.628 3.23v.964h-2.18v2.201h2.18v8.282h2.725v-8.282h2.685V8.855h-2.685v-.713ZM136.428 8.645c-3.123 0-5.535 2.474-5.535 5.451 0 2.977 2.412 5.451 5.535 5.451 3.124 0 5.536-2.474 5.536-5.451 0-2.977-2.412-5.451-5.536-5.451Zm0 8.47c-1.446 0-2.831-1.174-2.831-3.019 0-1.845 1.385-3.02 2.831-3.02 1.447 0 2.831 1.175 2.831 3.02s-1.384 3.02-2.831 3.02ZM146.115 10.448V8.855h-2.704V19.34h2.725v-4.97c0-1.991 1.006-2.998 2.789-2.998h.839V8.73h-.545c-1.321 0-2.559.65-3.104 1.72ZM163.854 8.645c-1.636 0-2.873.629-3.627 1.76-.651-1.11-1.845-1.76-3.23-1.76-1.3 0-2.474.545-3.061 1.446V8.854h-2.726v10.484h2.726v-5.64c0-1.636.86-2.705 2.265-2.705 1.299 0 2.013 1.006 2.013 2.411v5.934h2.725v-5.64c0-1.636.88-2.705 2.265-2.705 1.3 0 2.013 1.006 2.013 2.411v5.934h2.725v-6.374c0-2.6-1.656-4.32-4.088-4.32Z" fill="var(--color-text-emphasis)"></path></svg></div></div><main class="-jA-I" data-sidebar="expanded" data-mobile-menu="hidden"><aside class="jUacL"><div class="EaiHz"><div class="c4U3q"><div class="YnIII G98ZX"><div class="zmHTG"><!--$--><span class="pKL9i G98ZX"><div class="QSaHn"><div class="kpxY9 dweps"><div class="search mt-[-6px]"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="iZfWb dweps"><div class="side-nav-section"><div class="side-nav-header">Get started</div><div><a class="scroll-link side-nav-item" href="/docs/overview" data-discover="true"><span class="side-nav-item-name">Overview</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/quickstart" data-discover="true"><span class="side-nav-item-name">Quickstart</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/models" data-discover="true"><span class="side-nav-item-name">Models</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/pricing" data-discover="true"><span class="side-nav-item-name">Pricing</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/libraries" data-discover="true"><span class="side-nav-item-name">Libraries</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/docs-mcp" data-discover="true"><span class="side-nav-item-name">Docs MCP</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/latest-model" data-discover="true"><span class="side-nav-item-name">Latest: GPT-5.2</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Core concepts</div><div><a class="scroll-link side-nav-item" href="/docs/guides/text" data-discover="true"><span class="side-nav-item-name">Text generation</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/code-generation" data-discover="true"><span class="side-nav-item-name">Code generation</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/images-vision" data-discover="true"><span class="side-nav-item-name">Images and vision</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/audio" data-discover="true"><span class="side-nav-item-name">Audio and speech</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/structured-outputs" data-discover="true"><span class="side-nav-item-name">Structured output</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/function-calling" data-discover="true"><span class="side-nav-item-name">Function calling</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/migrate-to-responses" data-discover="true"><span class="side-nav-item-name">Responses API</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Agents</div><div><a class="scroll-link side-nav-item" href="/docs/guides/agents" data-discover="true"><span class="side-nav-item-name">Overview</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Build agents</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Deploy in your product</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Optimize</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><a class="scroll-link side-nav-item" href="/docs/guides/voice-agents" data-discover="true"><span class="side-nav-item-name">Voice agents</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Tools</div><div><a class="scroll-link side-nav-item" href="/docs/guides/tools" data-discover="true"><span class="side-nav-item-name">Using tools</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/tools-connectors-mcp" data-discover="true"><span class="side-nav-item-name">Connectors and MCP</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/tools-web-search" data-discover="true"><span class="side-nav-item-name">Web search</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/tools-code-interpreter" data-discover="true"><span class="side-nav-item-name">Code interpreter</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">File search and retrieval</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">More tools</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div><div class="side-nav-section"><div class="side-nav-header">Run and scale</div><div><a class="scroll-link side-nav-item" href="/docs/guides/conversation-state" data-discover="true"><span class="side-nav-item-name">Conversation state</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/background" data-discover="true"><span class="side-nav-item-name">Background mode</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/streaming-responses" data-discover="true"><span class="side-nav-item-name">Streaming</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/webhooks" data-discover="true"><span class="side-nav-item-name">Webhooks</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/pdf-files" data-discover="true"><span class="side-nav-item-name">File inputs</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Prompting</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Reasoning</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div><div class="side-nav-section"><div class="side-nav-header">Evaluation</div><div><a class="scroll-link side-nav-item" href="/docs/guides/evaluation-getting-started" data-discover="true"><span class="side-nav-item-name">Getting started</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/evals" data-discover="true"><span class="side-nav-item-name">Working with evals</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/prompt-optimizer" data-discover="true"><span class="side-nav-item-name">Prompt optimizer</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/external-models" data-discover="true"><span class="side-nav-item-name">External models</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/evaluation-best-practices" data-discover="true"><span class="side-nav-item-name">Best practices</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Realtime API</div><div><a class="scroll-link side-nav-item" href="/docs/guides/realtime" data-discover="true"><span class="side-nav-item-name">Overview</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Connect</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Usage</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div><div class="side-nav-section"><div class="side-nav-header">Model optimization</div><div><a class="scroll-link side-nav-item" href="/docs/guides/model-optimization" data-discover="true"><span class="side-nav-item-name">Optimization cycle</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Fine-tuning</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><a class="scroll-link side-nav-item" href="/docs/guides/graders" data-discover="true"><span class="side-nav-item-name">Graders</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Specialized models</div><div><a class="scroll-link side-nav-item active active-exact" href="/docs/guides/image-generation" data-discover="true"><span class="side-nav-item-name">Image generation</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/video-generation" data-discover="true"><span class="side-nav-item-name">Video generation</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/text-to-speech" data-discover="true"><span class="side-nav-item-name">Text to speech</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/speech-to-text" data-discover="true"><span class="side-nav-item-name">Speech to text</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/deep-research" data-discover="true"><span class="side-nav-item-name">Deep research</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/embeddings" data-discover="true"><span class="side-nav-item-name">Embeddings</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/moderation" data-discover="true"><span class="side-nav-item-name">Moderation</span></a></div></div><div class="side-nav-section"><div class="side-nav-header">Coding agents</div><div><a href="https://developers.openai.com/codex/cloud" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Codex cloud</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div><div><a href="https://developers.openai.com/codex/cloud/agent-internet" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Agent internet access</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div><div><a href="https://developers.openai.com/codex/cli" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Codex CLI</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div><div><a href="https://developers.openai.com/codex/ide" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Codex IDE</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div><div><a href="https://developers.openai.com/codex/changelog" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Codex changelog</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div></div><div class="side-nav-section"><div class="side-nav-header">Going live</div><div><a class="scroll-link side-nav-item" href="/docs/guides/production-best-practices" data-discover="true"><span class="side-nav-item-name">Production best practices</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Latency optimization</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Cost optimization</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div><div><a class="scroll-link side-nav-item" href="/docs/guides/optimizing-llm-accuracy" data-discover="true"><span class="side-nav-item-name">Accuracy optimization</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Safety</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div><div class="side-nav-section"><div class="side-nav-header">Specialized APIs</div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">Assistants API</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div><div class="side-nav-section"><div class="side-nav-header">Resources</div><div><a href="https://openai.com/policies" class="scroll-link side-nav-item" target="_blank" rel="noreferrer"><span class="side-nav-item-name">Terms and policies</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-icon"><path fill-rule="evenodd" d="M15 5a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L17.586 5H15ZM4 7a3 3 0 0 1 3-3h3a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7Z" clip-rule="evenodd"></path></svg></a></div><div><a class="scroll-link side-nav-item" href="/docs/changelog" data-discover="true"><span class="side-nav-item-name">Changelog</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/your-data" data-discover="true"><span class="side-nav-item-name">Your data</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/rbac" data-discover="true"><span class="side-nav-item-name">Permissions</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/rate-limits" data-discover="true"><span class="side-nav-item-name">Rate limits</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/deprecations" data-discover="true"><span class="side-nav-item-name">Deprecations</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/mcp" data-discover="true"><span class="side-nav-item-name">MCP for deep research</span></a></div><div><a class="scroll-link side-nav-item" href="/docs/guides/developer-mode" data-discover="true"><span class="side-nav-item-name">Developer mode</span></a></div><div><div class="scroll-link side-nav-item side-nav-item-has-subitems" data-side-nav-subitems="hidden" role="button"><span class="side-nav-item-name">ChatGPT Actions</span><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-chevron"><path fill-rule="evenodd" d="M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L12.586 12 9.293 8.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="side-nav-mobile-chevron"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div></div></div></div></div></span><!--/$--></div></div></div></div></aside><div class="skLX3"><div class="x0cKl"><div class="c4U3q"><div class="YnIII G98ZX"><div class="zmHTG"><!--$--><span class="pKL9i G98ZX"><div class="-tKh6"><div class="docs-scroll-container" data-important-algolia-crawl="true"><div class="page-body full-width flush docs-page"><div class="docs-markdown-page docs-markdown-content markdown-prompt-blockquote"><div class="flex w-full items-start"><div class="docs-markdown-page-inner"><div><div class="title-container flex flex-col items-baseline justify-between lg:flex-row"><div class="order-2 lg:order-1"><h1 id="page-top" class="docs-markdown-page-title">Image generation</h1><div class="docs-markdown-page-subtitle">Learn how to generate or edit images.</div></div><div class="order-1 -mt-2.5 mb-4 flex min-h-[32px] w-full flex-row items-center justify-between gap-2 lg:order-2 lg:mt-0 lg:mb-0 lg:ml-4 lg:w-auto lg:flex-col lg:items-start lg:justify-start lg:px-1"><div class="-order-1 -ml-1.5 flex items-center lg:ml-0"><button type="button" class="PSaRM copy-button" data-color="primary" data-variant="ghost" data-size="2xs"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span><span>Copy page</span></span></button></div></div></div><div class="exclude-from-copy" data-gallery-state="page"><div class="ZzpPa" data-gallery-type="image" id="gallery-page-container"><button type="button" class="PSaRM qnRZA" data-color="primary" data-variant="solid" data-pill="" data-size="xl"><span class="Odhup">Explore</span></button><div class="BiJrC"><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div><div class="DpnjY"></div></div><div class="UKA3x" id="gallery-fullscreen-container" inert=""><button type="button" class="PSaRM O39FK" data-color="primary" data-variant="solid" data-pill="" data-uniform="" data-size="xl" data-icon-size="lg"><span class="Odhup"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M5.636 5.636a1 1 0 0 1 1.414 0l4.95 4.95 4.95-4.95a1 1 0 0 1 1.414 1.414L13.414 12l4.95 4.95a1 1 0 0 1-1.414 1.414L12 13.414l-4.95 4.95a1 1 0 0 1-1.414-1.414l4.95-4.95-4.95-4.95a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></span></button><button type="button" class="PSaRM -dTNM" data-color="primary" data-variant="solid" data-pill="" data-uniform="" data-size="xl" data-icon-size="lg"><span class="Odhup"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M6.75 4.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM2.5 6.75a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0ZM17.25 4.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM13 6.75a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0ZM6.75 15a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM2.5 17.25a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0ZM17.25 15a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM13 17.25a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0Z"></path></svg></span></button><div class="AINIa" id="gallery-grid-container"><div class="HyfQo"><a id="gallery-grid-sci-fi-hangar" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=sci-fi-hangar" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/sci-fi-hangar.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-mechanical-bouquet" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=mechanical-bouquet" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/mechanical-bouquet.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-mechanical-watch" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=mechanical-watch" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/mechanical-watch.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-botanical-perfume" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=botanical-perfume" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/botanical-perfume.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-lavender-sunrise" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=lavender-sunrise" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/lavender-sunrise.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-winter-wolf-portrait" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=winter-wolf-portrait" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/winter-wolf-portrait.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-desert-sunrise-portrait" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=desert-sunrise-portrait" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/desert-sunrise-portrait.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-chess-set" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=chess-set" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/chess-set.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-underwater-ballerina" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=underwater-ballerina" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/underwater-ballerina.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-album-cover" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=album-cover" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/album-cover.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-abstract-orbit" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=abstract-orbit" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/abstract-orbit.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-alien" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=alien" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/alien.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-icons" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=icons" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/icons-poster.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-3d-city" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=3d-city" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/3d-city.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-ink-wash-temple" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=ink-wash-temple" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/ink-wash-temple.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-cliffside-portrait" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=cliffside-portrait" data-discover="true"><span class="ChLrt" role="presentation"><img src="https://cdn.openai.com/API/docs/images/images-gallery-1p5/cliffside-portrait.png" alt="" class="HFbbs" draggable="false"/></span></a><a id="gallery-grid-chameleon-macro" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=chameleon-macro" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-clay-garden-scene" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=clay-garden-scene" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-coral-reef" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=coral-reef" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-alien-rock" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=alien-rock" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-clay-figurine" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=clay-figurine" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-furniture" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=furniture" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-cafe-friends" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=cafe-friends" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-ceramic-mug" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=ceramic-mug" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-hiking-poster" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=hiking-poster" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-floorplan" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=floorplan" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-mountain-bike" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=mountain-bike" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-barista-ad" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=barista-ad" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-interior-design" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=interior-design" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-garden-portrait" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=garden-portrait" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-paper-sculpture-city" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=paper-sculpture-city" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-colorize" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=colorize" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-game-design" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=game-design" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-sprites" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=sprites" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-cosmic-ballet" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=cosmic-ballet" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-chocolate" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=chocolate" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-wedding-portrait" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=wedding-portrait" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-street-cafe" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=street-cafe" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-paper-cut-forest" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=paper-cut-forest" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-buildings-sprite" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=buildings-sprite" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-rooftop-garden" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=rooftop-garden" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-thunderstorm" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=thunderstorm" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-solar-roof" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=solar-roof" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-spacecraft-dashboard" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=spacecraft-dashboard" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-daytime" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=daytime" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-animation" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=animation" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-mountain-map" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=mountain-map" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-isometric-icons" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=isometric-icons" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-patterns" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=patterns" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-landscape" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=landscape" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-glass-speaker" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=glass-speaker" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-robot-toy" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=robot-toy" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-bottle" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=bottle" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-construction-crew" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=construction-crew" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-whales-poster" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=whales-poster" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-neon" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=neon" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-kids-storybook" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=kids-storybook" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-sneakers" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=sneakers" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-school-lab" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=school-lab" data-discover="true"><span class="ChLrt" role="presentation"></span></a><a id="gallery-grid-kyoto-poster" class="s2YyT" data-grid-item="true" href="/docs/guides/image-generation?gallery=open&amp;galleryItem=kyoto-poster" data-discover="true"><span class="ChLrt" role="presentation"></span></a></div></div></div><div class="WgYSz"></div></div></div>
<div class="anchor-heading-wrapper"><h2 id="overview" class="anchor-heading" data-name="overview">Overview<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>The OpenAI API lets you generate and edit images from text prompts, using GPT Image or DALLE models. You can access image generation capabilities through two APIs:</p>
<div class="anchor-heading-wrapper"><h3 id="image-api" class="anchor-heading" data-name="image-api">Image API<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<p>The <a href="/docs/api-reference/images" class="y7jBq" data-underline="" data-discover="true">Image API</a> provides three endpoints, each with distinct capabilities:</p>
<ul>
<li><strong>Generations</strong>: <a href="/docs/guides/image-generation#generate-images" class="y7jBq" data-underline="" data-discover="true">Generate images</a> from scratch based on a text prompt</li>
<li><strong>Edits</strong>: <a href="/docs/guides/image-generation#edit-images" class="y7jBq" data-underline="" data-discover="true">Modify existing images</a> using a new prompt, either partially or entirely</li>
<li><strong>Variations</strong>: <a href="/docs/guides/image-generation#image-variations" class="y7jBq" data-underline="" data-discover="true">Generate variations</a> of an existing image (available with DALLE 2 only)</li>
</ul>
<p>This API supports GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>) as well as <code>dall-e-2</code> and <code>dall-e-3</code>.</p>
<div class="anchor-heading-wrapper"><h3 id="responses-api" class="anchor-heading" data-name="responses-api">Responses API<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<p>The <a href="/docs/api-reference/responses/create#responses-create-tools" class="y7jBq" data-underline="" data-discover="true">Responses API</a> allows you to generate images as part of conversations or multi-step flows. It supports image generation as a <a href="/docs/guides/tools?api-mode=responses" class="y7jBq" data-underline="" data-discover="true">built-in tool</a>, and accepts image inputs and outputs within context.</p>
<p>Compared to the Image API, it adds:</p>
<ul>
<li><strong>Multi-turn editing</strong>: Iteratively make high fidelity edits to images with prompting</li>
<li><strong>Flexible inputs</strong>: Accept image <a href="/docs/api-reference/files" class="y7jBq" data-underline="" data-discover="true">File</a> IDs as input images, not just bytes</li>
</ul>
<p>The image generation tool in responses uses GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>).
When using <code>gpt-image-1.5</code> and <code>chatgpt-image-latest</code> with the Responses API, you can optionally set the <code>action</code> parameter, detailed below.
For a list of mainline models that support calling this tool, refer to the <a href="/docs/guides/image-generation#supported-models" class="y7jBq" data-underline="" data-discover="true">supported models</a> below.</p>
<div class="anchor-heading-wrapper"><h3 id="choosing-the-right-api" class="anchor-heading" data-name="choosing-the-right-api">Choosing the right API<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<ul>
<li>If you only need to generate or edit a single image from one prompt, the Image API is your best choice.</li>
<li>If you want to build conversational, editable image experiences with GPT Image, go with the Responses API.</li>
</ul>
<p>Both APIs let you <a href="/docs/guides/image-generation#customize-image-output" class="y7jBq" data-underline="" data-discover="true">customize output</a>  adjust quality, size, format, compression, and enable transparent backgrounds.</p>
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h3 id="model-comparison" class="anchor-heading" data-name="model-comparison">Model comparison<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<p>Our latest and most advanced model for image generation is <code>gpt-image-1.5</code>, a natively multimodal language model, part of the GPT Image family.</p>
<p>GPT Image models include <code>gpt-image-1.5</code> (state of the art), <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>. They share the same API surface, with <code>gpt-image-1.5</code> offering the best overall quality.</p>
<p>We recommend using <code>gpt-image-1.5</code> for the best experience, but if you are looking for a more cost-effective option and image quality isn&#x27;t a priority, you can use <code>gpt-image-1-mini</code>.</p>
<p>You can also use specialized image generation modelsDALLE 2 and DALLE 3with the Image API, but please note these models are now deprecated and we will stop supporting them on 05/12, 2026.</p>
<table><thead><tr><th>Model</th><th>Endpoints</th><th>Use case</th></tr></thead><tbody><tr><td>DALLE 2</td><td>Image API: Generations, Edits, Variations</td><td>Lower cost, concurrent requests, inpainting (image editing with a mask)</td></tr><tr><td>DALLE 3</td><td>Image API: Generations only</td><td>Higher image quality than DALLE 2, support for larger resolutions</td></tr><tr><td>GPT Image</td><td>Image API: Generations, Edits  Responses API (as part of the image generation tool)</td><td>Superior instruction following, text rendering, detailed editing, real-world knowledge</td></tr></tbody></table>
<p>This guide focuses on GPT Image, but you can also switch to the docs for <a href="/docs/guides/image-generation?image-generation-model=dall-e-2" class="y7jBq" data-underline="" data-discover="true">DALLE 2</a> and <a href="/docs/guides/image-generation?image-generation-model=dall-e-3" class="y7jBq" data-underline="" data-discover="true">DALLE 3</a>.</p><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B"><p>To ensure this model is used responsibly, you may need to complete the <a target="_blank" rel="noopener noreferrer" href="https://help.openai.com/en/articles/10910291-api-organization-verification" class="y7jBq" data-underline="">API
Organization
Verification</a>
from your <a target="_blank" rel="noopener noreferrer" href="https://platform.openai.com/settings/organization/general" class="y7jBq" data-underline="">developer
console</a> before using GPT
Image models, including <code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>.</p></div></div></div></div></div>
<!-- -->
<!-- -->
<img src="https://cdn.openai.com/API/docs/images/mug.png" alt="A beige coffee mug on a wooden table" style="height:180px;float:right;margin:10px 0 10px 10px;border-radius:8px"/>
<div class="anchor-heading-wrapper"><h2 id="generate-images" class="anchor-heading" data-name="generate-images">Generate Images<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>You can use the <a href="/docs/api-reference/images/create" class="y7jBq" data-underline="" data-discover="true">image generation endpoint</a> to create images based on text prompts, or the <a href="/docs/guides/tools?api-mode=responses" class="y7jBq" data-underline="" data-discover="true">image generation tool</a> in the Responses API to generate images as part of a conversation.</p><p>To learn more about customizing the output (size, quality, format, transparency), refer to the <a href="/docs/guides/image-generation#customize-image-output" class="y7jBq" data-underline="" data-discover="true">customize image output</a> section below.</p><p>You can set the <code>n</code> parameter to generate multiple images at once in a single request (by default, the API returns a single image).</p><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4ph3j6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsph3j6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">input</span><span>: </span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">tools</span><span>: [{</span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI() 
</span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>    
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4qh3j6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsqh3j6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> prompt = </span><span class="hljs-string">`
</span></span><span class="hljs-string">A children&#x27;s book drawing of a veterinarian using a stethoscope to 
</span><span class="hljs-string">listen to the heartbeat of a baby otter.
</span><span><span class="hljs-string">`</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> result = </span><span class="hljs-keyword">await</span><span> openai.images.generate({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span>    prompt,
</span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_bytes = Buffer.from(image_base64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>fs.writeFileSync(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, image_bytes);</span></span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>client = OpenAI()
</span><span>
</span><span><span>prompt = </span><span class="hljs-string">&quot;&quot;&quot;
</span></span><span class="hljs-string">A children&#x27;s book drawing of a veterinarian using a stethoscope to 
</span><span class="hljs-string">listen to the heartbeat of a baby otter.
</span><span><span class="hljs-string">&quot;&quot;&quot;</span><span>
</span></span><span>
</span><span>result = client.images.generate(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span>    prompt=prompt
</span><span>)
</span><span>
</span><span><span>image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json
</span></span><span>image_bytes = base64.b64decode(image_base64)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(image_bytes)</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="bash" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span></code><span><span>curl -X POST </span><span class="hljs-string">&quot;https://api.openai.com/v1/images/generations&quot;</span><span> \
</span></span><span><span>    -H </span><span class="hljs-string">&quot;Authorization: Bearer </span><span class="hljs-string hljs-variable">$OPENAI_API_KEY</span><span class="hljs-string">&quot;</span><span> \
</span></span><span><span>    -H </span><span class="hljs-string">&quot;Content-type: application/json&quot;</span><span> \
</span></span><span><span>    -d </span><span class="hljs-string">&#x27;{
</span></span><span class="hljs-string">        &quot;model&quot;: &quot;gpt-image-1&quot;,
</span><span class="hljs-string">        &quot;prompt&quot;: &quot;A childrens book drawing of a veterinarian using a stethoscope to listen to the heartbeat of a baby otter.&quot;
</span><span><span class="hljs-string">    }&#x27;</span><span> | jq -r </span><span class="hljs-string">&#x27;.data[0].b64_json&#x27;</span><span> | base64 --decode &gt; otter.png</span></span></code></pre></div></div></div></div></div></div><div class="anchor-heading-wrapper"><h3 id="multi-turn-image-generation" class="anchor-heading" data-name="multi-turn-image-generation">Multi-turn image generation<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>With the Responses API, you can build multi-turn conversations involving image generation either by providing image generation calls outputs within context (you can also just use the image ID), or by using the <a href="/docs/guides/conversation-state?api-mode=responses#openai-apis-for-conversation-state" class="y7jBq" data-underline="" data-discover="true"><code>previous_response_id</code> parameter</a>.
This makes it easy to iterate on images across multiple turnsrefining prompts, applying new instructions, and evolving the visual output as the conversation progresses.</p><div class="anchor-heading-wrapper"><h3 id="generate-vs-edit" class="anchor-heading" data-name="generate-vs-edit">Generate vs Edit<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>With the Responses API you can choose whether to generate a new image or edit one already in the conversation.
The optional <code>action</code> parameter (supported on <code>gpt-image-1.5</code> and <code>chatgpt-image-latest</code>) controls this behavior: keep <code>action: &quot;auto&quot;</code> to let the model decide (recommended), set <code>action: &quot;generate&quot;</code> to always create a new image, or set <code>action: &quot;edit&quot;</code> to force editing (requires an image in context).</p><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Force image creation with action</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R2abj6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Reabj6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">input</span><span>: </span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">tools</span><span>: [{</span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-attr">action</span><span>: </span><span class="hljs-string">&quot;generate&quot;</span><span>}],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI() 
</span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-string">&quot;action&quot;</span><span>: </span><span class="hljs-string">&quot;generate&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>    
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;otter.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div></div></div><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B"><p>If you force <code>edit</code> without providing an image in context, the call will return an
error. Leave <code>action</code> at <code>auto</code> to have the model decide when to generate or edit.</p></div></div></div></div></div><p>When <code>action</code> is set to <code>auto</code>, the <code>image_generation_call</code> result includes an <code>action</code> field so you can see whether the model generated a new image or edited one already in context:</p><div class="code-sample light-mode"><div class="code-sample-body code-sample-body-large"><div class="code-sample-copy-float"><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="json" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><span><span>{
</span></span><span><span>    </span><span class="hljs-attr">&quot;id&quot;</span><span>: </span><span class="hljs-string">&quot;ig_123...&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;status&quot;</span><span>: </span><span class="hljs-string">&quot;completed&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;background&quot;</span><span>: </span><span class="hljs-string">&quot;opaque&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;output_format&quot;</span><span>: </span><span class="hljs-string">&quot;jpeg&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;quality&quot;</span><span>: </span><span class="hljs-string">&quot;medium&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;result&quot;</span><span>: </span><span class="hljs-string">&quot;/9j/4...&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;revised_prompt&quot;</span><span>: </span><span class="hljs-string">&quot;...&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;size&quot;</span><span>: </span><span class="hljs-string">&quot;1024x1024&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;action&quot;</span><span>: </span><span class="hljs-string">&quot;generate&quot;</span><span>
</span></span><span>}</span></code></pre></div></div><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Using previous response ID</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Using image ID</span></button></div></div><div><div class="hidden">Using previous response ID</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Multi-turn image generation</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4pjbj6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rspjbj6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>:
</span></span><span><span>    </span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span> }],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;cat_and_otter.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span>}
</span><span>
</span><span><span></span><span class="hljs-comment">// Follow up</span><span>
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response_fwup = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">previous_response_id</span><span>: response.id,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: </span><span class="hljs-string">&quot;Now make it look realistic&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span> }],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData_fwup = response_fwup.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData_fwup.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData_fwup[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span>  fs.writeFileSync(
</span><span><span>    </span><span class="hljs-string">&quot;cat_and_otter_realistic.png&quot;</span><span>,
</span></span><span><span>    Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>)
</span></span><span>  );
</span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span>
</span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;cat_and_otter.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))
</span><span>
</span><span>
</span><span><span></span><span class="hljs-comment"># Follow up</span><span>
</span></span><span>
</span><span>response_fwup = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    previous_response_id=response.</span><span class="hljs-built_in">id</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Now make it look realistic&quot;</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span>image_data_fwup = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response_fwup.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data_fwup:
</span></span><span><span>    image_base64 = image_data_fwup[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;cat_and_otter_realistic.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div></div></div></div></div><div><div class="hidden">Using image ID</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Multi-turn image generation</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4qjbj6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsqjbj6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span><span class="react-syntax-highlighter-line-number">51
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>:
</span></span><span><span>    </span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span> }],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageGenerationCalls = response.output.filter(
</span></span><span><span>  </span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>);
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData = imageGenerationCalls.map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;cat_and_otter.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span>}
</span><span>
</span><span><span></span><span class="hljs-comment">// Follow up</span><span>
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response_fwup = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: [
</span></span><span>    {
</span><span><span>      </span><span class="hljs-attr">role</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">content</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-attr">text</span><span>: </span><span class="hljs-string">&quot;Now make it look realistic&quot;</span><span> }],
</span></span><span>    },
</span><span>    {
</span><span><span>      </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">id</span><span>: imageGenerationCalls[</span><span class="hljs-number">0</span><span>].id,
</span></span><span>    },
</span><span>  ],
</span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span> }],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData_fwup = response_fwup.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData_fwup.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData_fwup[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span>  fs.writeFileSync(
</span><span><span>    </span><span class="hljs-string">&quot;cat_and_otter_realistic.png&quot;</span><span>,
</span></span><span><span>    Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>)
</span></span><span>  );
</span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span><span class="react-syntax-highlighter-line-number">51
</span></code><span><span class="hljs-keyword">import</span><span> openai
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>response = openai.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Generate an image of gray tabby cat hugging an otter with an orange scarf&quot;</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span>image_generation_calls = [
</span><span>    output
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span>image_data = [output.result </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> image_generation_calls]
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span>
</span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;cat_and_otter.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))
</span><span>
</span><span>
</span><span><span></span><span class="hljs-comment"># Follow up</span><span>
</span></span><span>
</span><span>response_fwup = openai.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=[
</span></span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;role&quot;</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;content&quot;</span><span>: [{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-string">&quot;text&quot;</span><span>: </span><span class="hljs-string">&quot;Now make it look realistic&quot;</span><span>}],
</span></span><span>        },
</span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;id&quot;</span><span>: image_generation_calls[</span><span class="hljs-number">0</span><span>].</span><span class="hljs-built_in">id</span><span>,
</span></span><span>        },
</span><span>    ],
</span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span>image_data_fwup = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response_fwup.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data_fwup:
</span></span><span><span>    image_base64 = image_data_fwup[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;cat_and_otter_realistic.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div></div></div></div></div></div><div class="anchor-heading-wrapper"><h4 id="result" class="anchor-heading" data-name="result">Result<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h4></div><table><tbody><tr><td><p>&quot;Generate an image of gray tabby cat hugging an otter with an orange
scarf&quot;</p></td><td><img src="https://cdn.openai.com/API/docs/images/cat_and_otter.png" alt="A cat and an otter" style="width:200px;border-radius:8px"/></td></tr><tr><td>&quot;Now make it look realistic&quot;</td><td><img src="https://cdn.openai.com/API/docs/images/cat_and_otter_realistic.png" alt="A cat and an otter" style="width:200px;border-radius:8px"/></td></tr></tbody></table><div class="anchor-heading-wrapper"><h3 id="streaming" class="anchor-heading" data-name="streaming">Streaming<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>The Responses API and Image API support streaming image generation. This allows you to stream partial images as they are generated, providing a more interactive experience.</p><p>You can adjust the <code>partial_images</code> parameter to receive 0-3 partial images.</p><ul>
<li>If you set <code>partial_images</code> to 0, you will only receive the final image.</li>
<li>For values larger than zero, you may not receive the full number of partial images you requested if the full image is generated more quickly.</li>
</ul><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Stream an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4pl3j6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rspl3j6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> stream = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>:
</span></span><span><span>    </span><span class="hljs-string">&quot;Draw a gorgeous image of a river made of white owl feathers, snaking its way through a serene winter landscape&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">stream</span><span>: </span><span class="hljs-literal">true</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{ </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-attr">partial_images</span><span>: </span><span class="hljs-number">2</span><span> }],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">for</span><span> </span><span class="hljs-keyword">await</span><span> (</span><span class="hljs-keyword">const</span><span> event </span><span class="hljs-keyword">of</span><span> stream) {
</span></span><span><span>  </span><span class="hljs-keyword">if</span><span> (event.type === </span><span class="hljs-string">&quot;response.image_generation_call.partial_image&quot;</span><span>) {
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> idx = event.partial_image_index;
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> imageBase64 = event.partial_image_b64;
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> imageBuffer = Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>    fs.writeFileSync(</span><span class="hljs-string">`river</span><span class="hljs-string hljs-subst">${idx}</span><span class="hljs-string">.png`</span><span>, imageBuffer);
</span></span><span>  }
</span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span>stream = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Draw a gorgeous image of a river made of white owl feathers, snaking its way through a serene winter landscape&quot;</span><span>,
</span></span><span><span>    stream=</span><span class="hljs-literal">True</span><span>,
</span></span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-string">&quot;partial_images&quot;</span><span>: </span><span class="hljs-number">2</span><span>}],
</span></span><span>)
</span><span>
</span><span><span></span><span class="hljs-keyword">for</span><span> event </span><span class="hljs-keyword">in</span><span> stream:
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> event.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;response.image_generation_call.partial_image&quot;</span><span>:
</span></span><span>        idx = event.partial_image_index
</span><span>        image_base64 = event.partial_image_b64
</span><span>        image_bytes = base64.b64decode(image_base64)
</span><span><span>        </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">f&quot;river</span><span class="hljs-string hljs-subst">{idx}</span><span class="hljs-string">.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>            f.write(image_bytes)</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Stream an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4ql3j6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsql3j6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> prompt =
</span></span><span><span>  </span><span class="hljs-string">&quot;Draw a gorgeous image of a river made of white owl feathers, snaking its way through a serene winter landscape&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> stream = </span><span class="hljs-keyword">await</span><span> openai.images.generate({
</span></span><span><span>  </span><span class="hljs-attr">prompt</span><span>: prompt,
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">stream</span><span>: </span><span class="hljs-literal">true</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">partial_images</span><span>: </span><span class="hljs-number">2</span><span>,
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">for</span><span> </span><span class="hljs-keyword">await</span><span> (</span><span class="hljs-keyword">const</span><span> event </span><span class="hljs-keyword">of</span><span> stream) {
</span></span><span><span>  </span><span class="hljs-keyword">if</span><span> (event.type === </span><span class="hljs-string">&quot;image_generation.partial_image&quot;</span><span>) {
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> idx = event.partial_image_index;
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> imageBase64 = event.b64_json;
</span></span><span><span>    </span><span class="hljs-keyword">const</span><span> imageBuffer = Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>    fs.writeFileSync(</span><span class="hljs-string">`river</span><span class="hljs-string hljs-subst">${idx}</span><span class="hljs-string">.png`</span><span>, imageBuffer);
</span></span><span>  }
</span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span>stream = client.images.generate(
</span><span><span>    prompt=</span><span class="hljs-string">&quot;Draw a gorgeous image of a river made of white owl feathers, snaking its way through a serene winter landscape&quot;</span><span>,
</span></span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    stream=</span><span class="hljs-literal">True</span><span>,
</span></span><span><span>    partial_images=</span><span class="hljs-number">2</span><span>,
</span></span><span>)
</span><span>
</span><span><span></span><span class="hljs-keyword">for</span><span> event </span><span class="hljs-keyword">in</span><span> stream:
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> event.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation.partial_image&quot;</span><span>:
</span></span><span>        idx = event.partial_image_index
</span><span>        image_base64 = event.b64_json
</span><span>        image_bytes = base64.b64decode(image_base64)
</span><span><span>        </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">f&quot;river</span><span class="hljs-string hljs-subst">{idx}</span><span class="hljs-string">.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>            f.write(image_bytes)</span></code></pre></div></div></div></div></div></div><div class="anchor-heading-wrapper"><h4 id="result" class="anchor-heading" data-name="result">Result<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h4></div><div class="images-examples"><table><thead><tr><th>Partial 1</th><th>Partial 2</th><th>Final image</th></tr></thead><tbody><tr><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/imgen1p5-streaming1.png" alt="1st partial"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/imgen1p5-streaming2.png" alt="2nd partial"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/imgen1p5-streaming3.png" alt="3rd partial"/></td></tr></tbody></table></div><div class="images-edit-prompt body-small"><p>Prompt: Draw a gorgeous image of a river made of white owl feathers, snaking its way
through a serene winter landscape</p></div><div class="anchor-heading-wrapper"><h3 id="revised-prompt" class="anchor-heading" data-name="revised-prompt">Revised prompt<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>When using the image generation tool in the Responses API, the mainline model (e.g. <code>gpt-4.1</code>) will automatically revise your prompt for improved performance.</p><p>You can access the revised prompt in the <code>revised_prompt</code> field of the image generation call:</p><div class="code-sample light-mode"><div class="code-sample-body code-sample-body-large"><div class="code-sample-copy-float"><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="json" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span></code><span><span>{
</span></span><span><span>    </span><span class="hljs-attr">&quot;id&quot;</span><span>: </span><span class="hljs-string">&quot;ig_123&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;status&quot;</span><span>: </span><span class="hljs-string">&quot;completed&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;revised_prompt&quot;</span><span>: </span><span class="hljs-string">&quot;A gray tabby cat hugging an otter. The otter is wearing an orange scarf. Both animals are cute and friendly, depicted in a warm, heartwarming style.&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">&quot;result&quot;</span><span>: </span><span class="hljs-string">&quot;...&quot;</span><span>
</span></span><span>}</span></code></pre></div></div>
<!-- -->
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h2 id="edit-images" class="anchor-heading" data-name="edit-images">Edit Images<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>The <a href="/docs/api-reference/images/createEdit" class="y7jBq" data-underline="" data-discover="true">image edits</a> endpoint lets you:</p><ul>
<li>Edit existing images</li>
<li>Generate new images using other images as a reference</li>
<li>Edit parts of an image by uploading an image and mask indicating which areas should be replaced (a process known as <strong>inpainting</strong>)</li>
</ul><div class="anchor-heading-wrapper"><h3 id="create-a-new-image-using-image-references" class="anchor-heading" data-name="create-a-new-image-using-image-references">Create a new image using image references<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>You can use one or more images as a reference to generate a new image.</p><p>In this example, we&#x27;ll use 4 input images to generate a new image of a gift basket containing the items in the reference images.</p><div class="flex w-full gap-2"><div class="grid w-1/2 grid-cols-2 gap-2"><a href="https://cdn.openai.com/API/docs/images/body-lotion.png" target="_blank" rel="noopener noreferrer"><img src="https://cdn.openai.com/API/docs/images/body-lotion.png" alt="Body Lotion" class="rounded-lg"/></a><a href="https://cdn.openai.com/API/docs/images/soap.png" target="_blank" rel="noopener noreferrer"><img src="https://cdn.openai.com/API/docs/images/soap.png" alt="Soap" class="rounded-lg"/></a><a href="https://cdn.openai.com/API/docs/images/incense-kit.png" target="_blank" rel="noopener noreferrer"><img src="https://cdn.openai.com/API/docs/images/incense-kit.png" alt="Incense Kit" class="rounded-lg"/></a><a href="https://cdn.openai.com/API/docs/images/bath-bomb.png" target="_blank" rel="noopener noreferrer"><img src="https://cdn.openai.com/API/docs/images/bath-bomb.png" alt="Bath Bomb" class="rounded-lg"/></a></div><div class="w-1/2"><img src="https://cdn.openai.com/API/docs/images/bath-set-result.png" alt="Bath Gift Set" class="rounded-lg"/></div></div><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><p>With the Responses API, you can provide input images in 3 different ways:</p>
<ul>
<li>By providing a fully qualified URL</li>
<li>By providing an image as a Base64-encoded data URL</li>
<li>By providing a file ID (created with the <a href="/docs/api-reference/files" class="y7jBq" data-underline="" data-discover="true">Files API</a>)</li>
</ul>
<div class="expn"><div class="expn-title" role="button" aria-expanded="false" aria-controls="expander-:R2phs76tb5:"><div class="expn-icon"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M8.293 4.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414-1.414L14.586 12 8.293 5.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="expn-label">Create a File</div></div><div class="expn-content hidden" id="expander-:R2phs76tb5:"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:Rjaphs76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3japhs76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span>client = OpenAI()
</span><span>
</span><span><span></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">create_file</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">file_path</span><span class="hljs-function">):</span><span>
</span></span><span><span>  </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(file_path, </span><span class="hljs-string">&quot;rb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> file_content:
</span></span><span>    result = client.files.create(
</span><span>        file=file_content,
</span><span><span>        purpose=</span><span class="hljs-string">&quot;vision&quot;</span><span>,
</span></span><span>    )
</span><span><span>    </span><span class="hljs-keyword">return</span><span> result.</span><span class="hljs-built_in">id</span></span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">async</span><span> </span><span class="hljs-function hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">createFile</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">filePath</span><span class="hljs-function">) </span><span>{
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fileContent = fs.createReadStream(filePath);
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> result = </span><span class="hljs-keyword">await</span><span> openai.files.create({
</span></span><span><span>    </span><span class="hljs-attr">file</span><span>: fileContent,
</span></span><span><span>    </span><span class="hljs-attr">purpose</span><span>: </span><span class="hljs-string">&quot;vision&quot;</span><span>,
</span></span><span>  });
</span><span><span>  </span><span class="hljs-keyword">return</span><span> result.id;
</span></span><span>}</span></code></pre></div></div></div></div></div>
<div class="expn"><div class="expn-title" role="button" aria-expanded="false" aria-controls="expander-:R3phs76tb5:"><div class="expn-icon"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M8.293 4.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414-1.414L14.586 12 8.293 5.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="expn-label">Create a base64 encoded image</div></div><div class="expn-content hidden" id="expander-:R3phs76tb5:"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:Rjbphs76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3jbphs76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">encode_image</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">file_path</span><span class="hljs-function">):</span><span>
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(file_path, </span><span class="hljs-string">&quot;rb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span><span>        base64_image = base64.b64encode(f.read()).decode(</span><span class="hljs-string">&quot;utf-8&quot;</span><span>)
</span></span><span><span>    </span><span class="hljs-keyword">return</span><span> base64_image</span></span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span><span class="hljs-function hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">encodeImage</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">filePath</span><span class="hljs-function">) </span><span>{
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> base64Image = fs.readFileSync(filePath, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>  </span><span class="hljs-keyword">return</span><span> base64Image;
</span></span><span>}</span></code></pre></div></div></div></div></div>
<div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R2cphs76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Recphs76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span><span class="react-syntax-highlighter-line-number">51
</span><span class="react-syntax-highlighter-line-number">52
</span><span class="react-syntax-highlighter-line-number">53
</span><span class="react-syntax-highlighter-line-number">54
</span><span class="react-syntax-highlighter-line-number">55
</span><span class="react-syntax-highlighter-line-number">56
</span><span class="react-syntax-highlighter-line-number">57
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span><span>prompt = </span><span class="hljs-string">&quot;&quot;&quot;Generate a photorealistic image of a gift basket on a white background 
</span></span><span class="hljs-string">labeled &#x27;Relax &amp; Unwind&#x27; with a ribbon and handwriting-like font, 
</span><span><span class="hljs-string">containing all the items in the reference pictures.&quot;&quot;&quot;</span><span>
</span></span><span>
</span><span><span>base64_image1 = encode_image(</span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>)
</span></span><span><span>base64_image2 = encode_image(</span><span class="hljs-string">&quot;soap.png&quot;</span><span>)
</span></span><span><span>file_id1 = create_file(</span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>)
</span></span><span><span>file_id2 = create_file(</span><span class="hljs-string">&quot;incense-kit.png&quot;</span><span>)
</span></span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=[
</span></span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;role&quot;</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;content&quot;</span><span>: [
</span></span><span><span>                {</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-string">&quot;text&quot;</span><span>: prompt},
</span></span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;image_url&quot;</span><span>: </span><span class="hljs-string">f&quot;data:image/jpeg;base64,</span><span class="hljs-string hljs-subst">{base64_image1}</span><span class="hljs-string">&quot;</span><span>,
</span></span><span>                },
</span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;image_url&quot;</span><span>: </span><span class="hljs-string">f&quot;data:image/jpeg;base64,</span><span class="hljs-string hljs-subst">{base64_image2}</span><span class="hljs-string">&quot;</span><span>,
</span></span><span>                },
</span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;file_id&quot;</span><span>: file_id1,
</span></span><span>                },
</span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;file_id&quot;</span><span>: file_id2,
</span></span><span>                }
</span><span>            ],
</span><span>        }
</span><span>    ],
</span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span>image_generation_calls = [
</span><span>    output
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span>image_data = [output.result </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> image_generation_calls]
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;gift-basket.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))
</span><span><span></span><span class="hljs-keyword">else</span><span>:
</span></span><span><span>    </span><span class="hljs-built_in">print</span><span>(response.output.content)</span></span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span><span class="react-syntax-highlighter-line-number">51
</span><span class="react-syntax-highlighter-line-number">52
</span><span class="react-syntax-highlighter-line-number">53
</span><span class="react-syntax-highlighter-line-number">54
</span><span class="react-syntax-highlighter-line-number">55
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> prompt = </span><span class="hljs-string">`Generate a photorealistic image of a gift basket on a white background 
</span></span><span class="hljs-string">labeled &#x27;Relax &amp; Unwind&#x27; with a ribbon and handwriting-like font, 
</span><span><span class="hljs-string">containing all the items in the reference pictures.`</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> base64Image1 = encodeImage(</span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>);
</span></span><span><span></span><span class="hljs-keyword">const</span><span> base64Image2 = encodeImage(</span><span class="hljs-string">&quot;soap.png&quot;</span><span>);
</span></span><span><span></span><span class="hljs-keyword">const</span><span> fileId1 = </span><span class="hljs-keyword">await</span><span> createFile(</span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>);
</span></span><span><span></span><span class="hljs-keyword">const</span><span> fileId2 = </span><span class="hljs-keyword">await</span><span> createFile(</span><span class="hljs-string">&quot;incense-kit.png&quot;</span><span>);
</span></span><span>
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: [
</span></span><span>    {
</span><span><span>      </span><span class="hljs-attr">role</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">content</span><span>: [
</span></span><span><span>        { </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-attr">text</span><span>: prompt },
</span></span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">image_url</span><span>: </span><span class="hljs-string">`data:image/jpeg;base64,</span><span class="hljs-string hljs-subst">${base64Image1}</span><span class="hljs-string">`</span><span>,
</span></span><span>        },
</span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">image_url</span><span>: </span><span class="hljs-string">`data:image/jpeg;base64,</span><span class="hljs-string hljs-subst">${base64Image2}</span><span class="hljs-string">`</span><span>,
</span></span><span>        },
</span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">file_id</span><span>: fileId1,
</span></span><span>        },
</span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">file_id</span><span>: fileId2,
</span></span><span>        },
</span><span>      ],
</span><span>    },
</span><span>  ],
</span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{</span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>}],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;gift-basket.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span><span>} </span><span class="hljs-keyword">else</span><span> {
</span></span><span><span>  </span><span class="hljs-built_in">console</span><span>.log(response.output.content);
</span></span><span>}</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4qhs76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsqhs76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span></code><span><span class="hljs-keyword">import</span><span> base64
</span></span><span><span></span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span>client = OpenAI()
</span><span>
</span><span><span>prompt = </span><span class="hljs-string">&quot;&quot;&quot;
</span></span><span class="hljs-string">Generate a photorealistic image of a gift basket on a white background 
</span><span class="hljs-string">labeled &#x27;Relax &amp; Unwind&#x27; with a ribbon and handwriting-like font, 
</span><span class="hljs-string">containing all the items in the reference pictures.
</span><span><span class="hljs-string">&quot;&quot;&quot;</span><span>
</span></span><span>
</span><span>result = client.images.edit(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span>    image=[
</span><span><span>        </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span><span>        </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;bath-bomb.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span><span>        </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;incense-kit.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span><span>        </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;soap.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span>    ],
</span><span>    prompt=prompt
</span><span>)
</span><span>
</span><span><span>image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json
</span></span><span>image_bytes = base64.b64decode(image_base64)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;gift-basket.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(image_bytes)</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI, { toFile } </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> client = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> prompt = </span><span class="hljs-string">`
</span></span><span class="hljs-string">Generate a photorealistic image of a gift basket on a white background 
</span><span class="hljs-string">labeled &#x27;Relax &amp; Unwind&#x27; with a ribbon and handwriting-like font, 
</span><span class="hljs-string">containing all the items in the reference pictures.
</span><span><span class="hljs-string">`</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageFiles = [
</span></span><span><span>    </span><span class="hljs-string">&quot;bath-bomb.png&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-string">&quot;body-lotion.png&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-string">&quot;incense-kit.png&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-string">&quot;soap.png&quot;</span><span>,
</span></span><span>];
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> images = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-built_in">Promise</span><span>.all(
</span></span><span><span>    imageFiles.map(</span><span class="hljs-keyword">async</span><span> (file) =&gt;
</span></span><span><span>        </span><span class="hljs-keyword">await</span><span> toFile(fs.createReadStream(file), </span><span class="hljs-literal">null</span><span>, {
</span></span><span><span>            </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image/png&quot;</span><span>,
</span></span><span>        })
</span><span>    ),
</span><span>);
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> client.images.edit({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">image</span><span>: images,
</span></span><span>    prompt,
</span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_base64 = response.data[</span><span class="hljs-number">0</span><span>].b64_json;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_bytes = Buffer.from(image_base64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>fs.writeFileSync(</span><span class="hljs-string">&quot;basket.png&quot;</span><span>, image_bytes);</span></span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="bash" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span></code><span><span>curl -s -D &gt;(grep -i x-request-id &gt;&amp;2) \
</span></span><span><span>  -o &gt;(jq -r </span><span class="hljs-string">&#x27;.data[0].b64_json&#x27;</span><span> | base64 --decode &gt; gift-basket.png) \
</span></span><span><span>  -X POST </span><span class="hljs-string">&quot;https://api.openai.com/v1/images/edits&quot;</span><span> \
</span></span><span><span>  -H </span><span class="hljs-string">&quot;Authorization: Bearer </span><span class="hljs-string hljs-variable">$OPENAI_API_KEY</span><span class="hljs-string">&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;model=gpt-image-1&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;image[]=@body-lotion.png&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;image[]=@bath-bomb.png&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;image[]=@incense-kit.png&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;image[]=@soap.png&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&#x27;prompt=Generate a photorealistic image of a gift basket on a white background labeled &quot;Relax &amp; Unwind&quot; with a ribbon and handwriting-like font, containing all the items in the reference pictures&#x27;</span></span></code></pre></div></div></div></div></div></div><div class="anchor-heading-wrapper"><h3 id="edit-an-image-using-a-mask-inpainting" class="anchor-heading" data-name="edit-an-image-using-a-mask-inpainting">Edit an image using a mask (inpainting)<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>You can provide a mask to indicate which part of the image should be edited.</p><p>When using a mask with GPT Image, additional instructions are sent to the model to help guide the editing process accordingly.</p><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B"><p>Unlike with DALLE 2, masking with GPT Image is entirely prompt-based. This means the
model uses the mask as guidance, but may not follow its exact shape with complete
precision.</p></div></div></div></div></div><p>If you provide multiple input images, the mask will be applied to the first image.</p><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image with a mask</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4pjc76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rspjc76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span>client = OpenAI()
</span><span>
</span><span><span>fileId = create_file(</span><span class="hljs-string">&quot;sunlit_lounge.png&quot;</span><span>)
</span></span><span><span>maskId = create_file(</span><span class="hljs-string">&quot;mask.png&quot;</span><span>)
</span></span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-4o&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=[
</span></span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;role&quot;</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;content&quot;</span><span>: [
</span></span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;text&quot;</span><span>: </span><span class="hljs-string">&quot;generate an image of the same sunlit indoor lounge area with a pool but the pool should contain a flamingo&quot;</span><span>,
</span></span><span>                },
</span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;file_id&quot;</span><span>: fileId,
</span></span><span>                }
</span><span>            ],
</span><span>        },
</span><span>    ],
</span><span>    tools=[
</span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;quality&quot;</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;input_image_mask&quot;</span><span>: {
</span></span><span><span>                </span><span class="hljs-string">&quot;file_id&quot;</span><span>: maskId,
</span></span><span>            }
</span><span>        },
</span><span>    ],
</span><span>)
</span><span>
</span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;lounge.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> fileId = </span><span class="hljs-keyword">await</span><span> createFile(</span><span class="hljs-string">&quot;sunlit_lounge.png&quot;</span><span>);
</span></span><span><span></span><span class="hljs-keyword">const</span><span> maskId = </span><span class="hljs-keyword">await</span><span> createFile(</span><span class="hljs-string">&quot;mask.png&quot;</span><span>);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-4o&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: [
</span></span><span>    {
</span><span><span>      </span><span class="hljs-attr">role</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">content</span><span>: [
</span></span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">text</span><span>: </span><span class="hljs-string">&quot;generate an image of the same sunlit indoor lounge area with a pool but the pool should contain a flamingo&quot;</span><span>,
</span></span><span>        },
</span><span>        {
</span><span><span>          </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>          </span><span class="hljs-attr">file_id</span><span>: fileId,
</span></span><span>        }
</span><span>      ],
</span><span>    },
</span><span>  ],
</span><span><span>  </span><span class="hljs-attr">tools</span><span>: [
</span></span><span>    {
</span><span><span>      </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">quality</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">input_image_mask</span><span>: {
</span></span><span><span>        </span><span class="hljs-attr">file_id</span><span>: maskId,
</span></span><span>      }
</span><span>    },
</span><span>  ],
</span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> fs = </span><span class="hljs-keyword">await</span><span> </span><span class="hljs-keyword">import</span><span>(</span><span class="hljs-string">&quot;fs&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;lounge.png&quot;</span><span>, Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>));
</span></span><span>}</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Edit an image with a mask</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R4qjc76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rsqjc76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span>client = OpenAI()
</span><span>
</span><span>result = client.images.edit(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    image=</span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;sunlit_lounge.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span><span>    mask=</span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;mask.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>),
</span></span><span><span>    prompt=</span><span class="hljs-string">&quot;A sunlit indoor lounge area with a pool containing a flamingo&quot;</span><span>
</span></span><span>)
</span><span>
</span><span><span>image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json
</span></span><span>image_bytes = base64.b64decode(image_base64)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;composition.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(image_bytes)</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI, { toFile } </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> client = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> rsp = </span><span class="hljs-keyword">await</span><span> client.images.edit({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">image</span><span>: </span><span class="hljs-keyword">await</span><span> toFile(fs.createReadStream(</span><span class="hljs-string">&quot;sunlit_lounge.png&quot;</span><span>), </span><span class="hljs-literal">null</span><span>, {
</span></span><span><span>        </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image/png&quot;</span><span>,
</span></span><span>    }),
</span><span><span>    </span><span class="hljs-attr">mask</span><span>: </span><span class="hljs-keyword">await</span><span> toFile(fs.createReadStream(</span><span class="hljs-string">&quot;mask.png&quot;</span><span>), </span><span class="hljs-literal">null</span><span>, {
</span></span><span><span>        </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image/png&quot;</span><span>,
</span></span><span>    }),
</span><span><span>    </span><span class="hljs-attr">prompt</span><span>: </span><span class="hljs-string">&quot;A sunlit indoor lounge area with a pool containing a flamingo&quot;</span><span>,
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_base64 = rsp.data[</span><span class="hljs-number">0</span><span>].b64_json;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_bytes = Buffer.from(image_base64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>fs.writeFileSync(</span><span class="hljs-string">&quot;lounge.png&quot;</span><span>, image_bytes);</span></span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="bash" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span></code><span><span>curl -s -D &gt;(grep -i x-request-id &gt;&amp;2) \
</span></span><span><span>  -o &gt;(jq -r </span><span class="hljs-string">&#x27;.data[0].b64_json&#x27;</span><span> | base64 --decode &gt; lounge.png) \
</span></span><span><span>  -X POST </span><span class="hljs-string">&quot;https://api.openai.com/v1/images/edits&quot;</span><span> \
</span></span><span><span>  -H </span><span class="hljs-string">&quot;Authorization: Bearer </span><span class="hljs-string hljs-variable">$OPENAI_API_KEY</span><span class="hljs-string">&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;model=gpt-image-1&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&quot;mask=@mask.png&quot;</span><span> \   
</span></span><span><span>  -F </span><span class="hljs-string">&quot;image[]=@sunlit_lounge.png&quot;</span><span> \
</span></span><span><span>  -F </span><span class="hljs-string">&#x27;prompt=A sunlit indoor lounge area with a pool containing a flamingo&#x27;</span></span></code></pre></div></div></div></div></div></div><div class="images-examples"><table><thead><tr><th>Image</th><th>Mask</th><th>Output</th></tr></thead><tbody><tr><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/sunlit_lounge.png" alt="A pink room with a pool"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/mask.png" alt="A mask in part of the pool"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/sunlit_lounge_result.png" alt="The original pool with an inflatable flamigo replacing the mask"/></td></tr></tbody></table></div><div class="images-edit-prompt body-small"><p>Prompt: a sunlit indoor lounge area with a pool containing a flamingo</p></div><div class="anchor-heading-wrapper"><h4 id="mask-requirements" class="anchor-heading" data-name="mask-requirements">Mask requirements<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h4></div><p>The image to edit and mask must be of the same format and size (less than 50MB in size).</p><p>The mask image must also contain an alpha channel. If you&#x27;re using an image editing tool to create the mask, make sure to save the mask with an alpha channel.</p><div class="expn"><div class="expn-title" role="button" aria-expanded="false" aria-controls="expander-:R4s76tb5:"><div class="expn-icon"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M8.293 4.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414-1.414L14.586 12 8.293 5.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="expn-label">Add an alpha channel to a black and white mask</div></div><div class="expn-content hidden" id="expander-:R4s76tb5:"><p>You can modify a black and white image programmatically to add an alpha channel.</p><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Add an alpha channel to a black and white mask</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R2dcs76tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Redcs76tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span></code><span><span class="hljs-keyword">from</span><span> PIL </span><span class="hljs-keyword">import</span><span> Image
</span></span><span><span></span><span class="hljs-keyword">from</span><span> io </span><span class="hljs-keyword">import</span><span> BytesIO
</span></span><span>
</span><span><span></span><span class="hljs-comment"># 1. Load your black &amp; white mask as a grayscale image</span><span>
</span></span><span><span>mask = Image.</span><span class="hljs-built_in">open</span><span>(img_path_mask).convert(</span><span class="hljs-string">&quot;L&quot;</span><span>)
</span></span><span>
</span><span><span></span><span class="hljs-comment"># 2. Convert it to RGBA so it has space for an alpha channel</span><span>
</span></span><span><span>mask_rgba = mask.convert(</span><span class="hljs-string">&quot;RGBA&quot;</span><span>)
</span></span><span>
</span><span><span></span><span class="hljs-comment"># 3. Then use the mask itself to fill that alpha channel</span><span>
</span></span><span>mask_rgba.putalpha(mask)
</span><span>
</span><span><span></span><span class="hljs-comment"># 4. Convert the mask into bytes</span><span>
</span></span><span>buf = BytesIO()
</span><span><span>mask_rgba.save(buf, </span><span class="hljs-built_in">format</span><span>=</span><span class="hljs-string">&quot;PNG&quot;</span><span>)
</span></span><span>mask_bytes = buf.getvalue()
</span><span>
</span><span><span></span><span class="hljs-comment"># 5. Save the resulting file</span><span>
</span></span><span><span>img_path_mask_alpha = </span><span class="hljs-string">&quot;mask_alpha.png&quot;</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(img_path_mask_alpha, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(mask_bytes)</span></code></pre></div></div></div></div></div>
<!-- -->
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h3 id="input-fidelity" class="anchor-heading" data-name="input-fidelity">Input fidelity<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>) support high input fidelity, which allows you to better preserve details from the input images in the output.
This is especially useful when using images that contain elements like faces or logos that require accurate preservation in the generated image.</p><p>You can provide multiple input images that will all be preserved with high fidelity, but keep in mind that if using <code>gpt-image-1</code> or <code>gpt-image-1-mini</code>, the first image will be preserved with richer textures and finer details, so if you include elements such as faces, consider placing them in the first image.</p><p>If you are using <code>gpt-image-1.5</code>, the first <strong>5</strong> input images will be preserved with higher fidelity.</p><p>To enable high input fidelity, set the <code>input_fidelity</code> parameter to <code>high</code>. The default value is <code>low</code>.</p><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image with high input fidelity</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R2cpkn6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Recpkn6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> openai.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: [
</span></span><span>      {
</span><span><span>        </span><span class="hljs-attr">role</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>        </span><span class="hljs-attr">content</span><span>: [
</span></span><span><span>          { </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-attr">text</span><span>: </span><span class="hljs-string">&quot;Add the logo to the woman&#x27;s top, as if stamped into the fabric.&quot;</span><span> },
</span></span><span>          {
</span><span><span>            </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-attr">image_url</span><span>: </span><span class="hljs-string">&quot;https://cdn.openai.com/API/docs/images/woman_futuristic.jpg&quot;</span><span>,
</span></span><span>          },
</span><span>          {
</span><span><span>            </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-attr">image_url</span><span>: </span><span class="hljs-string">&quot;https://cdn.openai.com/API/docs/images/brain_logo.png&quot;</span><span>,
</span></span><span>          },
</span><span>        ],
</span><span>      },
</span><span>    ],
</span><span><span>  </span><span class="hljs-attr">tools</span><span>: [{</span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-attr">input_fidelity</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>, </span><span class="hljs-attr">action</span><span>: </span><span class="hljs-string">&quot;edit&quot;</span><span>}],
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Extract the edited image</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> imageBase64 = response.output.find(
</span></span><span><span>  </span><span class="hljs-function">(</span><span class="hljs-function hljs-params">o</span><span class="hljs-function">) =&gt;</span><span> o.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>)?.result;
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageBase64) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBuffer = Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;woman_with_logo.png&quot;</span><span>, imageBuffer);
</span></span><span>}</span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span>response = client.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-4.1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=[
</span></span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;role&quot;</span><span>: </span><span class="hljs-string">&quot;user&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;content&quot;</span><span>: [
</span></span><span><span>                {</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_text&quot;</span><span>, </span><span class="hljs-string">&quot;text&quot;</span><span>: </span><span class="hljs-string">&quot;Add the logo to the woman&#x27;s top, as if stamped into the fabric.&quot;</span><span>},
</span></span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;image_url&quot;</span><span>: </span><span class="hljs-string">&quot;https://cdn.openai.com/API/docs/images/woman_futuristic.jpg&quot;</span><span>,
</span></span><span>                },
</span><span>                {
</span><span><span>                    </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;input_image&quot;</span><span>,
</span></span><span><span>                    </span><span class="hljs-string">&quot;image_url&quot;</span><span>: </span><span class="hljs-string">&quot;https://cdn.openai.com/API/docs/images/brain_logo.png&quot;</span><span>,
</span></span><span>                },
</span><span>            ],
</span><span>        }
</span><span>    ],
</span><span><span>    tools=[{</span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>, </span><span class="hljs-string">&quot;input_fidelity&quot;</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>, </span><span class="hljs-string">&quot;action&quot;</span><span>: </span><span class="hljs-string">&quot;edit&quot;</span><span>}],
</span></span><span>)
</span><span>
</span><span><span></span><span class="hljs-comment"># Extract the edited image</span><span>
</span></span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;woman_with_logo.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image with high input fidelity</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R2d9kn6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Red9kn6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span><span></span><span class="hljs-keyword">const</span><span> prompt = </span><span class="hljs-string">&quot;Add the logo to the woman&#x27;s top, as if stamped into the fabric.&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> result = </span><span class="hljs-keyword">await</span><span> openai.images.edit({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">image</span><span>: [
</span></span><span><span>    fs.createReadStream(</span><span class="hljs-string">&quot;woman.jpg&quot;</span><span>),
</span></span><span><span>    fs.createReadStream(</span><span class="hljs-string">&quot;logo.png&quot;</span><span>)
</span></span><span>  ],
</span><span>  prompt,
</span><span><span>  </span><span class="hljs-attr">input_fidelity</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_bytes = Buffer.from(image_base64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>fs.writeFileSync(</span><span class="hljs-string">&quot;woman_with_logo.png&quot;</span><span>, image_bytes);</span></span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>client = OpenAI()
</span><span>
</span><span>result = client.images.edit(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    image=[</span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;woman.jpg&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>), </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;logo.png&quot;</span><span>, </span><span class="hljs-string">&quot;rb&quot;</span><span>)],
</span></span><span><span>    prompt=</span><span class="hljs-string">&quot;Add the logo to the woman&#x27;s top, as if stamped into the fabric.&quot;</span><span>,
</span></span><span><span>    input_fidelity=</span><span class="hljs-string">&quot;high&quot;</span><span>
</span></span><span>)
</span><span>
</span><span><span>image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json
</span></span><span>image_bytes = base64.b64decode(image_base64)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;woman_with_logo.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(image_bytes)</span></code></pre></div></div></div></div></div></div><div class="images-examples"><table><thead><tr><th>Input 1</th><th>Input 2</th><th>Output</th></tr></thead><tbody><tr><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/woman_futuristic.jpg" alt="A woman"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/brain_logo.png" alt="A brain logo"/></td><td><img class="images-example-image" src="https://cdn.openai.com/API/docs/images/woman_with_logo.jpg" alt="The woman with a brain logo on her top"/></td></tr></tbody></table></div><div class="images-edit-prompt body-small"><p>Prompt: Add the logo to the woman&#x27;s top, as if stamped into the fabric.</p></div><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B"><p>Keep in mind that when using high input fidelity, more image input tokens will be used
per request. To understand the costs implications, refer to our <a href="/docs/guides/images-vision?api-mode=responses#calculating-costs" class="y7jBq" data-underline="" data-discover="true">vision
costs</a> section.</p></div></div></div></div></div>
<div class="anchor-heading-wrapper"><h2 id="customize-image-output" class="anchor-heading" data-name="customize-image-output">Customize Image Output<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>You can configure the following output options:</p>
<ul>
<li><strong>Size</strong>: Image dimensions (e.g., <code>1024x1024</code>, <code>1024x1536</code>)</li>
<li><strong>Quality</strong>: Rendering quality (e.g. <code>low</code>, <code>medium</code>, <code>high</code>)</li>
<li><strong>Format</strong>: File output format</li>
<li><strong>Compression</strong>: Compression level (0-100%) for JPEG and WebP formats</li>
<li><strong>Background</strong>: Transparent or opaque</li>
</ul><p><code>size</code>, <code>quality</code>, and <code>background</code> support the <code>auto</code> option, where the model will automatically select the best option based on the prompt.</p>
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h3 id="size-and-quality-options" class="anchor-heading" data-name="size-and-quality-options">Size and quality options<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<p>Square images with standard quality are the fastest to generate. The default size is 1024x1024 pixels.</p>
<table><tbody><tr><td>Available sizes</td><td><ul>
<li><code>1024x1024</code> (square) - <code>1536x1024</code> (landscape) - <code>1024x1536</code> (portrait)</li>
<li><code>auto</code> (default)</li>
</ul></td></tr><tr><td>Quality options</td><td>- <code>low</code> - <code>medium</code> - <code>high</code> - <code>auto</code> (default)</td></tr></tbody></table>
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h3 id="output-format" class="anchor-heading" data-name="output-format">Output format<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div>
<p>The Image API returns base64-encoded image data.
The default format is <code>png</code>, but you can also request <code>jpeg</code> or <code>webp</code>.</p><p>If using <code>jpeg</code> or <code>webp</code>, you can also specify the <code>output_compression</code> parameter to control the compression level (0-100%). For example, <code>output_compression=50</code> will compress the image by 50%.</p><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B"><p>Using <code>jpeg</code> is faster than <code>png</code>, so you should prioritize this format if latency is
a concern.</p></div></div></div></div></div>
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h3 id="transparency" class="anchor-heading" data-name="transparency">Transparency<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>) support transparent backgrounds.
To enable transparency, set the <code>background</code> parameter to <code>transparent</code>.</p><p>It is only supported with the <code>png</code> and <code>webp</code> output formats.</p><div class="DG-nO"><div class="tM3lh" data-variant="outline" data-color="primary" data-actions-placement="end"><div class="W9V45"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="WytiY"><div class="qEc1C"><div class="ZQP4B">Transparency works best when setting the quality to <code>medium</code> or <code>high</code>.</div></div></div></div></div><div class="qxuUz"><div class="exclude-from-copy hgLIM"><div role="group" dir="ltr" class="egsLp" data-size="md" aria-label="Content switcher" tabindex="-1" style="outline:none"><div class="SMFE1"></div><button type="button" data-state="on" role="radio" aria-checked="true" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Responses API</span></button><button type="button" data-state="off" role="radio" aria-checked="false" class="_3p-k-" tabindex="-1" data-radix-collection-item=""><span class="relative">Image API</span></button></div></div><div><div class="hidden">Responses API</div><div class=""><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image with a transparent background</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R16dej6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R76dej6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span></code><span><span class="hljs-keyword">import</span><span> openai
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>
</span><span>response = openai.responses.create(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-built_in">input</span><span>=</span><span class="hljs-string">&quot;Draw a 2D pixel art style sprite sheet of a tabby gray cat&quot;</span><span>,
</span></span><span>    tools=[
</span><span>        {
</span><span><span>            </span><span class="hljs-string">&quot;type&quot;</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;background&quot;</span><span>: </span><span class="hljs-string">&quot;transparent&quot;</span><span>,
</span></span><span><span>            </span><span class="hljs-string">&quot;quality&quot;</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span>        }
</span><span>    ],
</span><span>)
</span><span>
</span><span>image_data = [
</span><span>    output.result
</span><span><span>    </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> response.output
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>
</span></span><span>]
</span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> image_data:
</span></span><span><span>    image_base64 = image_data[</span><span class="hljs-number">0</span><span>]
</span></span><span>
</span><span><span>    </span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;sprite.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>        f.write(base64.b64decode(image_base64))</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span></code><span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> client = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> response = </span><span class="hljs-keyword">await</span><span> client.responses.create({
</span></span><span><span>  </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-5&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">input</span><span>: </span><span class="hljs-string">&quot;Draw a 2D pixel art style sprite sheet of a tabby gray cat&quot;</span><span>,
</span></span><span><span>  </span><span class="hljs-attr">tools</span><span>: [
</span></span><span>    {
</span><span><span>      </span><span class="hljs-attr">type</span><span>: </span><span class="hljs-string">&quot;image_generation&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">background</span><span>: </span><span class="hljs-string">&quot;transparent&quot;</span><span>,
</span></span><span><span>      </span><span class="hljs-attr">quality</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span>    },
</span><span>  ],
</span><span>});
</span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> imageData = response.output
</span></span><span><span>  .filter(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.type === </span><span class="hljs-string">&quot;image_generation_call&quot;</span><span>)
</span></span><span><span>  .map(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">output</span><span class="hljs-function">) =&gt;</span><span> output.result);
</span></span><span>
</span><span><span></span><span class="hljs-keyword">if</span><span> (imageData.length &gt; </span><span class="hljs-number">0</span><span>) {
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBase64 = imageData[</span><span class="hljs-number">0</span><span>];
</span></span><span><span>  </span><span class="hljs-keyword">const</span><span> imageBuffer = Buffer.from(imageBase64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>  fs.writeFileSync(</span><span class="hljs-string">&quot;sprite.png&quot;</span><span>, imageBuffer);
</span></span><span>}</span></code></pre></div></div></div></div></div><div><div class="hidden">Image API</div><div class="hidden"><div class="code-sample light-mode"><div class="code-sample-header"><div class="code-sample-title body-small">Generate an image with a transparent background</div><div class="exclude-from-copy"><span class="Pv5xI" role="button" tabindex="0" data-variant="ghost" data-size="sm" data-selected="true" aria-disabled="false" id="select-trigger-:R16lej6tb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R76lej6tb5:" data-state="closed"><span class="_2Q-oU">python</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div><button type="button" class="PSaRM" data-color="primary" data-variant="ghost" data-size="sm" data-gutter-size="xs" data-icon-size="sm"><span class="Odhup"><span class="block relative w-[var(--button-icon-size)] h-[var(--button-icon-size)]" data-transition-position="absolute" style="--tg-will-change:transform, opacity;--tg-enter-opacity:1;--tg-enter-transform:scale(1);--tg-enter-filter:none;--tg-enter-duration:300ms;--tg-enter-delay:150ms;--tg-enter-timing-function:var(--cubic-enter);--tg-exit-opacity:0;--tg-exit-transform:scale(0.6);--tg-exit-filter:none;--tg-exit-duration:150ms;--tg-exit-delay:0ms;--tg-exit-timing-function:var(--cubic-exit);--tg-initial-opacity:0;--tg-initial-transform:scale(0.6);--tg-initial-filter:none"><span class="aNdsW G98ZX"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M12.7587 2H16.2413C17.0463 1.99999 17.7106 1.99998 18.2518 2.04419C18.8139 2.09012 19.3306 2.18868 19.816 2.43597C20.5686 2.81947 21.1805 3.43139 21.564 4.18404C21.8113 4.66937 21.9099 5.18608 21.9558 5.74817C22 6.28936 22 6.95372 22 7.75868V11.2413C22 12.0463 22 12.7106 21.9558 13.2518C21.9099 13.8139 21.8113 14.3306 21.564 14.816C21.1805 15.5686 20.5686 16.1805 19.816 16.564C19.3306 16.8113 18.8139 16.9099 18.2518 16.9558C17.8906 16.9853 17.4745 16.9951 16.9984 16.9984C16.9951 17.4745 16.9853 17.8906 16.9558 18.2518C16.9099 18.8139 16.8113 19.3306 16.564 19.816C16.1805 20.5686 15.5686 21.1805 14.816 21.564C14.3306 21.8113 13.8139 21.9099 13.2518 21.9558C12.7106 22 12.0463 22 11.2413 22H7.75868C6.95372 22 6.28936 22 5.74818 21.9558C5.18608 21.9099 4.66937 21.8113 4.18404 21.564C3.43139 21.1805 2.81947 20.5686 2.43597 19.816C2.18868 19.3306 2.09012 18.8139 2.04419 18.2518C1.99998 17.7106 1.99999 17.0463 2 16.2413V12.7587C1.99999 11.9537 1.99998 11.2894 2.04419 10.7482C2.09012 10.1861 2.18868 9.66937 2.43597 9.18404C2.81947 8.43139 3.43139 7.81947 4.18404 7.43598C4.66937 7.18868 5.18608 7.09012 5.74817 7.04419C6.10939 7.01468 6.52548 7.00487 7.00162 7.00162C7.00487 6.52548 7.01468 6.10939 7.04419 5.74817C7.09012 5.18608 7.18868 4.66937 7.43598 4.18404C7.81947 3.43139 8.43139 2.81947 9.18404 2.43597C9.66937 2.18868 10.1861 2.09012 10.7482 2.04419C11.2894 1.99998 11.9537 1.99999 12.7587 2ZM9.00176 7L11.2413 7C12.0463 6.99999 12.7106 6.99998 13.2518 7.04419C13.8139 7.09012 14.3306 7.18868 14.816 7.43598C15.5686 7.81947 16.1805 8.43139 16.564 9.18404C16.8113 9.66937 16.9099 10.1861 16.9558 10.7482C17 11.2894 17 11.9537 17 12.7587V14.9982C17.4455 14.9951 17.7954 14.9864 18.089 14.9624C18.5274 14.9266 18.7516 14.8617 18.908 14.782C19.2843 14.5903 19.5903 14.2843 19.782 13.908C19.8617 13.7516 19.9266 13.5274 19.9624 13.089C19.9992 12.6389 20 12.0566 20 11.2V7.8C20 6.94342 19.9992 6.36113 19.9624 5.91104C19.9266 5.47262 19.8617 5.24842 19.782 5.09202C19.5903 4.7157 19.2843 4.40973 18.908 4.21799C18.7516 4.1383 18.5274 4.07337 18.089 4.03755C17.6389 4.00078 17.0566 4 16.2 4H12.8C11.9434 4 11.3611 4.00078 10.911 4.03755C10.4726 4.07337 10.2484 4.1383 10.092 4.21799C9.7157 4.40973 9.40973 4.7157 9.21799 5.09202C9.1383 5.24842 9.07337 5.47262 9.03755 5.91104C9.01357 6.20463 9.00489 6.55447 9.00176 7ZM5.91104 9.03755C5.47262 9.07337 5.24842 9.1383 5.09202 9.21799C4.7157 9.40973 4.40973 9.7157 4.21799 10.092C4.1383 10.2484 4.07337 10.4726 4.03755 10.911C4.00078 11.3611 4 11.9434 4 12.8V16.2C4 17.0566 4.00078 17.6389 4.03755 18.089C4.07337 18.5274 4.1383 18.7516 4.21799 18.908C4.40973 19.2843 4.7157 19.5903 5.09202 19.782C5.24842 19.8617 5.47262 19.9266 5.91104 19.9624C6.36113 19.9992 6.94342 20 7.8 20H11.2C12.0566 20 12.6389 19.9992 13.089 19.9624C13.5274 19.9266 13.7516 19.8617 13.908 19.782C14.2843 19.5903 14.5903 19.2843 14.782 18.908C14.8617 18.7516 14.9266 18.5274 14.9624 18.089C14.9992 17.6389 15 17.0566 15 16.2V12.8C15 11.9434 14.9992 11.3611 14.9624 10.911C14.9266 10.4726 14.8617 10.2484 14.782 10.092C14.5903 9.7157 14.2843 9.40973 13.908 9.21799C13.7516 9.1383 13.5274 9.07337 13.089 9.03755C12.6389 9.00078 12.0566 9 11.2 9H7.8C6.94342 9 6.36113 9.00078 5.91104 9.03755Z" fill="currentColor"></path></svg></span></span></span></button></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="javascript" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span></code><span><span class="hljs-keyword">import</span><span> OpenAI </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;openai&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">import</span><span> fs </span><span class="hljs-keyword">from</span><span> </span><span class="hljs-string">&quot;fs&quot;</span><span>;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> openai = </span><span class="hljs-keyword">new</span><span> OpenAI();
</span></span><span>
</span><span><span></span><span class="hljs-keyword">const</span><span> result = </span><span class="hljs-keyword">await</span><span> openai.images.generate({
</span></span><span><span>    </span><span class="hljs-attr">model</span><span>: </span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">prompt</span><span>: </span><span class="hljs-string">&quot;Draw a 2D pixel art style sprite sheet of a tabby gray cat&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">size</span><span>: </span><span class="hljs-string">&quot;1024x1024&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">background</span><span>: </span><span class="hljs-string">&quot;transparent&quot;</span><span>,
</span></span><span><span>    </span><span class="hljs-attr">quality</span><span>: </span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span>});
</span><span>
</span><span><span></span><span class="hljs-comment">// Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_base64 = result.data[</span><span class="hljs-number">0</span><span>].b64_json;
</span></span><span><span></span><span class="hljs-keyword">const</span><span> image_bytes = Buffer.from(image_base64, </span><span class="hljs-string">&quot;base64&quot;</span><span>);
</span></span><span><span>fs.writeFileSync(</span><span class="hljs-string">&quot;sprite.png&quot;</span><span>, image_bytes);</span></span></code></pre></div><div class="code-block"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="python" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span><span></span><span class="hljs-keyword">import</span><span> base64
</span></span><span>client = OpenAI()
</span><span>
</span><span>result = client.images.generate(
</span><span><span>    model=</span><span class="hljs-string">&quot;gpt-image-1&quot;</span><span>,
</span></span><span><span>    prompt=</span><span class="hljs-string">&quot;Draw a 2D pixel art style sprite sheet of a tabby gray cat&quot;</span><span>,
</span></span><span><span>    size=</span><span class="hljs-string">&quot;1024x1024&quot;</span><span>,
</span></span><span><span>    background=</span><span class="hljs-string">&quot;transparent&quot;</span><span>,
</span></span><span><span>    quality=</span><span class="hljs-string">&quot;high&quot;</span><span>,
</span></span><span>)
</span><span>
</span><span><span>image_base64 = result.json()[</span><span class="hljs-string">&quot;data&quot;</span><span>][</span><span class="hljs-number">0</span><span>][</span><span class="hljs-string">&quot;b64_json&quot;</span><span>]
</span></span><span>image_bytes = base64.b64decode(image_base64)
</span><span>
</span><span><span></span><span class="hljs-comment"># Save the image to a file</span><span>
</span></span><span><span></span><span class="hljs-keyword">with</span><span> </span><span class="hljs-built_in">open</span><span>(</span><span class="hljs-string">&quot;sprite.png&quot;</span><span>, </span><span class="hljs-string">&quot;wb&quot;</span><span>) </span><span class="hljs-keyword">as</span><span> f:
</span></span><span>    f.write(image_bytes)</span></code></pre></div><div class="code-block hidden"><pre class="hljs syntax-highlighter light-mode code-sample-pre" data-1p-ignore="true"><code data-1p-ignore="true" data-language="bash" style="white-space:pre"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span></code><span><span>curl -X POST </span><span class="hljs-string">&quot;https://api.openai.com/v1/images&quot;</span><span> \
</span></span><span><span>    -H </span><span class="hljs-string">&quot;Authorization: Bearer </span><span class="hljs-string hljs-variable">$OPENAI_API_KEY</span><span class="hljs-string">&quot;</span><span> \
</span></span><span><span>    -H </span><span class="hljs-string">&quot;Content-type: application/json&quot;</span><span> \
</span></span><span><span>    -d </span><span class="hljs-string">&#x27;{
</span></span><span class="hljs-string">        &quot;prompt&quot;: &quot;Draw a 2D pixel art style sprite sheet of a tabby gray cat&quot;,
</span><span class="hljs-string">        &quot;quality&quot;: &quot;high&quot;,
</span><span class="hljs-string">        &quot;size&quot;: &quot;1024x1024&quot;,
</span><span class="hljs-string">        &quot;background&quot;: &quot;transparent&quot;
</span><span><span class="hljs-string">    }&#x27;</span><span> | jq -r </span><span class="hljs-string">&#x27;data[0].b64_json&#x27;</span><span> | base64 --decode &gt; sprite.png</span></span></code></pre></div></div></div></div></div></div>
<div class="anchor-heading-wrapper"><h2 id="limitations" class="anchor-heading" data-name="limitations">Limitations<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>) are powerful and versatile image generation models, but they still have some limitations to be aware of:</p><ul>
<li><strong>Latency:</strong> Complex prompts may take up to 2 minutes to process.</li>
<li><strong>Text Rendering:</strong> Although significantly improved over the DALLE series, the model can still struggle with precise text placement and clarity.</li>
<li><strong>Consistency:</strong> While capable of producing consistent imagery, the model may occasionally struggle to maintain visual consistency for recurring characters or brand elements across multiple generations.</li>
<li><strong>Composition Control:</strong> Despite improved instruction following, the model may have difficulty placing elements precisely in structured or layout-sensitive compositions.</li>
</ul><div class="anchor-heading-wrapper"><h3 id="content-moderation" class="anchor-heading" data-name="content-moderation">Content Moderation<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>All prompts and generated images are filtered in accordance with our <a target="_blank" rel="noopener noreferrer" href="https://openai.com/policies/usage-policies/" class="y7jBq" data-underline="">content policy</a>.</p><p>For image generation using GPT Image models (<code>gpt-image-1.5</code>, <code>gpt-image-1</code>, and <code>gpt-image-1-mini</code>), you can control moderation strictness with the <code>moderation</code> parameter. This parameter supports two values:</p><ul>
<li><code>auto</code> (default): Standard filtering that seeks to limit creating certain categories of potentially age-inappropriate content.</li>
<li><code>low</code>: Less restrictive filtering.</li>
</ul><div class="anchor-heading-wrapper"><h3 id="supported-models" class="anchor-heading" data-name="supported-models">Supported models<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>When using image generation in the Responses API, most modern models starting with <code>gpt-4o</code> and newer should support the image generation tool. <a href="/docs/models" class="y7jBq" data-underline="" data-discover="true">Check the model detail page for your model</a> to confirm if your desired model can use the image generation tool.</p>
<!-- -->
<!-- -->
<div class="anchor-heading-wrapper"><h2 id="cost-and-latency" class="anchor-heading" data-name="cost-and-latency">Cost and latency<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h2></div>
<p>This model generates images by first producing specialized image tokens. Both latency and eventual cost are proportional to the number of tokens required to render an imagelarger image sizes and higher quality settings result in more tokens.</p><p>The number of tokens generated depends on image dimensions and quality:</p><table><thead><tr><th>Quality</th><th>Square (10241024)</th><th>Portrait (10241536)</th><th>Landscape (15361024)</th></tr></thead><tbody><tr><td>Low</td><td>272 tokens</td><td>408 tokens</td><td>400 tokens</td></tr><tr><td>Medium</td><td>1056 tokens</td><td>1584 tokens</td><td>1568 tokens</td></tr><tr><td>High</td><td>4160 tokens</td><td>6240 tokens</td><td>6208 tokens</td></tr></tbody></table><p>Note that you will also need to account for <a href="/docs/guides/images-vision?api-mode=responses#calculating-costs" class="y7jBq" data-underline="" data-discover="true">input tokens</a>: text tokens for the prompt and image tokens for the input images if editing images.
If you are using high input fidelity, the number of input tokens will be higher.</p><p>Refer to our <a href="/pricing#image-generation" class="y7jBq" data-underline="" data-discover="true">pricing page</a> for more information about price per text and image tokens.</p><p>So the final cost is the sum of:</p><ul>
<li>input text tokens</li>
<li>input image tokens if using the edits endpoint</li>
<li>image output tokens</li>
</ul><div class="anchor-heading-wrapper"><h3 id="partial-images-cost" class="anchor-heading" data-name="partial-images-cost">Partial images cost<svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor" class="anchor-heading-icon" role="presentation"><path d="M18.2929 5.7071C16.4743 3.88849 13.5257 3.88849 11.7071 5.7071L10.7071 6.7071C10.3166 7.09763 9.68341 7.09763 9.29289 6.7071C8.90236 6.31658 8.90236 5.68341 9.29289 5.29289L10.2929 4.29289C12.8926 1.69322 17.1074 1.69322 19.7071 4.29289C22.3068 6.89255 22.3068 11.1074 19.7071 13.7071L18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071C16.9024 14.3166 16.9024 13.6834 17.2929 13.2929L18.2929 12.2929C20.1115 10.4743 20.1115 7.52572 18.2929 5.7071ZM15.7071 8.29289C16.0976 8.68341 16.0976 9.31658 15.7071 9.7071L9.7071 15.7071C9.31658 16.0976 8.68341 16.0976 8.29289 15.7071C7.90236 15.3166 7.90236 14.6834 8.29289 14.2929L14.2929 8.29289C14.6834 7.90236 15.3166 7.90236 15.7071 8.29289ZM6.7071 9.29289C7.09763 9.68341 7.09763 10.3166 6.7071 10.7071L5.7071 11.7071C3.88849 13.5257 3.88849 16.4743 5.7071 18.2929C7.52572 20.1115 10.4743 20.1115 12.2929 18.2929L13.2929 17.2929C13.6834 16.9024 14.3166 16.9024 14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071L13.7071 19.7071C11.1074 22.3068 6.89255 22.3068 4.29289 19.7071C1.69322 17.1074 1.69322 12.8926 4.29289 10.2929L5.29289 9.29289C5.68341 8.90236 6.31658 8.90236 6.7071 9.29289Z" fill="currentColor"></path></svg></h3></div><p>If you want to <a href="/docs/guides/image-generation#streaming" class="y7jBq" data-underline="" data-discover="true">stream image generation</a> using the <code>partial_images</code> parameter, each partial image will incur an additional 100 image output tokens.</p>
<!-- -->
</div></div><div class="j3gup" data-ssr-fallback=""><div class="-mr-2 flex flex-col gap-2 lg:mr-0 lg:min-w-[200px]"><div data-state="closed"><span class="Pv5xI" role="button" tabindex="0" data-variant="soft" data-block="" data-size="md" data-selected="true" aria-disabled="false" id="select-trigger-:Reqtb5:" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3eqtb5:" data-state="closed"><span class="_2Q-oU">GPT-Image</span><div class="_2AzRq"><svg width="1em" height="1em" viewBox="0 0 10 16" fill="currentColor" class="E0z5v"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.34151 0.747423C4.71854 0.417526 5.28149 0.417526 5.65852 0.747423L9.65852 4.24742C10.0742 4.61111 10.1163 5.24287 9.75259 5.6585C9.38891 6.07414 8.75715 6.11626 8.34151 5.75258L5.00001 2.82877L1.65852 5.75258C1.24288 6.11626 0.61112 6.07414 0.247438 5.6585C-0.116244 5.24287 -0.0741267 4.61111 0.34151 4.24742L4.34151 0.747423ZM0.246065 10.3578C0.608879 9.94139 1.24055 9.89795 1.65695 10.2608L5.00001 13.1737L8.34308 10.2608C8.75948 9.89795 9.39115 9.94139 9.75396 10.3578C10.1168 10.7742 10.0733 11.4058 9.65695 11.7687L5.65695 15.2539C5.28043 15.582 4.7196 15.582 4.34308 15.2539L0.343082 11.7687C-0.0733128 11.4058 -0.116749 10.7742 0.246065 10.3578Z"></path></svg></div></span></div></div><nav class="DSaZR"><div class="bQIJt"><div class="gFJqp"></div><ul class="BxaJU"><li class="_4wNlK"><a class="j1W4n" data-active="true" href="#overview"><span class="m-4se" aria-hidden="true">Overview</span>Overview</a></li><li class="_4wNlK"><a class="j1W4n" data-active="false" href="#generate-images"><span class="m-4se" aria-hidden="true">Generate images</span>Generate images</a></li><li class="_4wNlK"><a class="j1W4n" data-active="false" href="#edit-images"><span class="m-4se" aria-hidden="true">Edit images</span>Edit images</a></li><li class="_4wNlK"><a class="j1W4n" data-active="false" href="#customize-image-output"><span class="m-4se" aria-hidden="true">Customize image output</span>Customize image output</a></li><li class="_4wNlK"><a class="j1W4n" data-active="false" href="#limitations"><span class="m-4se" aria-hidden="true">Limitations</span>Limitations</a></li><li class="_4wNlK"><a class="j1W4n" data-active="false" href="#cost-and-latency"><span class="m-4se" aria-hidden="true">Cost and latency</span>Cost and latency</a></li></ul></div><div class="-j6Ng"><div class="eQaeE"><a href="https://cookbook.openai.com/examples/generate_images_with_gpt_image" target="_blank" rel="noreferrer" class="g-EGx"><div class="IPKSu"><div class="_8NC6-">Image Generation cookbook</div><svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="cdlEz"><path d="M12 1.95068C17.525 1.95068 22 6.42568 22 11.9507C21.9995 14.0459 21.3419 16.0883 20.1198 17.7902C18.8977 19.4922 17.1727 20.768 15.1875 21.4382C14.6875 21.5382 14.5 21.2257 14.5 20.9632C14.5 20.6257 14.5125 19.5507 14.5125 18.2132C14.5125 17.2757 14.2 16.6757 13.8375 16.3632C16.0625 16.1132 18.4 15.2632 18.4 11.4257C18.4 10.3257 18.0125 9.43818 17.375 8.73818C17.475 8.48818 17.825 7.46318 17.275 6.08818C17.275 6.08818 16.4375 5.81318 14.525 7.11318C13.725 6.88818 12.875 6.77568 12.025 6.77568C11.175 6.77568 10.325 6.88818 9.525 7.11318C7.6125 5.82568 6.775 6.08818 6.775 6.08818C6.225 7.46318 6.575 8.48818 6.675 8.73818C6.0375 9.43818 5.65 10.3382 5.65 11.4257C5.65 15.2507 7.975 16.1132 10.2 16.3632C9.9125 16.6132 9.65 17.0507 9.5625 17.7007C8.9875 17.9632 7.55 18.3882 6.65 16.8757C6.4625 16.5757 5.9 15.8382 5.1125 15.8507C4.275 15.8632 4.775 16.3257 5.125 16.5132C5.55 16.7507 6.0375 17.6382 6.15 17.9257C6.35 18.4882 7 19.5632 9.5125 19.1007C9.5125 19.9382 9.525 20.7257 9.525 20.9632C9.525 21.2257 9.3375 21.5257 8.8375 21.4382C6.8458 20.7752 5.11342 19.502 3.88611 17.799C2.65881 16.096 1.9989 14.0498 2 11.9507C2 6.42568 6.475 1.95068 12 1.95068Z" fill="currentColor"></path></svg></div><div class="H9y8p">Try out image generation and edits</div></a></div></div></nav></div></div></div></div></div></div></span><!--/$--></div></div></div></div></div></main></div><script nonce="anZhGn391NVZNbeBxPGXfg==">window.__reactRouterContext = {"basename":"/","future":{"v8_middleware":false,"unstable_optimizeDeps":false,"unstable_splitRouteModules":false,"unstable_subResourceIntegrity":false,"unstable_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":true,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script nonce="anZhGn391NVZNbeBxPGXfg==" type="module" async="">import "/docs/_assets/manifest-b8baf396.js";
import * as route0 from "/docs/_assets/lJzczcQu7p.js";
import * as route1 from "/docs/_assets/BGZ5yIx5BJ.js";
import * as route2 from "/docs/_assets/xaWEz5Iusf.js";
import * as route3 from "/docs/_assets/BAlG6N1_mG.js";
import * as route4 from "/docs/_assets/Com-fErv24.js";
  
  window.__reactRouterRouteModules = {"root":route0,"routes/GlobalLayout":route1,"routes/DocsLayout":route2,"routes/DocsMDXLayout":route3,"routes/docs/docs-splat-route":route4};

import("/docs/_assets/DXju5bO3G_.js");</script><!--$?--><template id="B:0"></template><!--/$--><div hidden id="S:0"><script nonce="anZhGn391NVZNbeBxPGXfg==">window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_3\":-5,\"_4\":-5},\"loaderData\",{},\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script nonce="anZhGn391NVZNbeBxPGXfg==">$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><script nonce="anZhGn391NVZNbeBxPGXfg==">window.__reactRouterContext.streamController.close();</script></div><script nonce="anZhGn391NVZNbeBxPGXfg==">$RC("B:1","S:1")</script><script nonce="anZhGn391NVZNbeBxPGXfg==">(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.nonce='anZhGn391NVZNbeBxPGXfg==';d.innerHTML="window.__CF$cv$params={r:'9bdba74318b33e6a',t:'MTc2ODM3ODE4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='anZhGn391NVZNbeBxPGXfg==';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>